!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.Ractive=b()}(this,function(){"use strict";function a(a){var b;if(a&&"boolean"!=typeof a)return"undefined"!=typeof window&&document&&a?a.nodeType?a:"string"==typeof a&&(b=document.getElementById(a),!b&&document.querySelector&&(b=document.querySelector(a)),b&&b.nodeType)?b:a[0]&&a[0].nodeType?a[0]:null:null}function b(a){return a&&"unknown"!=typeof a.parentNode&&a.parentNode&&a.parentNode.removeChild(a),a}function c(a){return null!=a&&a.toString?a:""}function d(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;b>d;d++)c[d-1]=arguments[d];for(var e,f;f=c.shift();)for(e in f)Fi.call(f,e)&&(a[e]=f[e]);return a}function e(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;b>d;d++)c[d-1]=arguments[d];return c.forEach(function(b){for(var c in b)!b.hasOwnProperty(c)||c in a||(a[c]=b[c])}),a}function f(a){return"[object Array]"===Gi.call(a)}function g(a){return Hi.test(Gi.call(a))}function h(a,b){return null===a&&null===b?!0:"object"==typeof a||"object"==typeof b?!1:a===b}function i(a){return!isNaN(parseFloat(a))&&isFinite(a)}function j(a){return a&&"[object Object]"===Gi.call(a)}function k(a,b){return a.replace(/%s/g,function(){return b.shift()})}function l(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;b>d;d++)c[d-1]=arguments[d];throw a=k(a,c),new Error(a)}function m(){Xu.DEBUG&&Ci.apply(null,arguments)}function n(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;b>d;d++)c[d-1]=arguments[d];a=k(a,c),Di(a,c)}function o(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;b>d;d++)c[d-1]=arguments[d];a=k(a,c),Ii[a]||(Ii[a]=!0,Di(a,c))}function p(){Xu.DEBUG&&n.apply(null,arguments)}function q(){Xu.DEBUG&&o.apply(null,arguments)}function r(a,b,c){var d=s(a,b,c);return d?d[a][c]:null}function s(a,b,c){for(;b;){if(c in b[a])return b;if(b.isolated)return null;b=b.parent}}function t(a){return function(){return a}}function u(a){var b,c,d,e,f,g;for(b=a.split("."),(c=Ri[b.length])||(c=v(b.length)),f=[],d=function(a,c){return a?"*":b[c]},e=c.length;e--;)g=c[e].map(d).join("."),f.hasOwnProperty(g)||(f.push(g),f[g]=!0);return f}function v(a){var b,c,d,e,f,g,h,i,j="";if(!Ri[a]){for(d=[];j.length<a;)j+=1;for(b=parseInt(j,2),e=function(a){return"1"===a},f=0;b>=f;f+=1){for(c=f.toString(2);c.length<a;)c="0"+c;for(i=[],h=c.length,g=0;h>g;g++)i.push(e(c[g]));d[f]=i}Ri[a]=d}return Ri[a]}function w(a,b,c,d){var e=a[b];if(!e||!e.equalsOrStartsWith(d)&&e.equalsOrStartsWith(c))return a[b]=e?e.replace(c,d):d,!0}function x(a){var b=a.slice(2);return"i"===a[1]?i(b)?+b:b:b}function y(a){return null==a?a:(Ui.hasOwnProperty(a)||(Ui[a]=new Vi(a)),Ui[a])}function z(a,b){function c(b,c){var d,e,g;return c.isRoot?g=[].concat(Object.keys(a.viewmodel.data),Object.keys(a.viewmodel.mappings),Object.keys(a.viewmodel.computations)):(d=a.viewmodel.wrapped[c.str],e=d?d.get():a.viewmodel.get(c),g=e?Object.keys(e):null),g&&g.forEach(function(a){"_ractive"===a&&f(e)||b.push(c.join(a))}),b}var d,e,g;for(d=b.str.split("."),g=[Xi];e=d.shift();)"*"===e?g=g.reduce(c,[]):g[0]===Xi?g[0]=y(e):g=g.map(A(e));return g}function A(a){return function(b){return b.join(a)}}function B(a){return a?a.replace(Si,".$1"):""}function C(a,b,c){if("string"!=typeof b||!i(c))throw new Error("Bad arguments");var d=void 0,e=void 0;if(/\*/.test(b))return e={},z(a,y(B(b))).forEach(function(b){var d=a.viewmodel.get(b);if(!i(d))throw new Error(Zi);e[b.str]=d+c}),a.set(e);if(d=a.get(b),!i(d))throw new Error(Zi);return a.set(b,+d+c)}function D(a,b){return Yi(this,a,void 0===b?1:+b)}function E(a){this.event=a,this.method="on"+a,this.deprecate=cj[a]}function F(a,b){var c=a.indexOf(b);-1===c&&a.push(b)}function G(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]==b)return!0;return!1}function H(a,b){var c;if(!f(a)||!f(b))return!1;if(a.length!==b.length)return!1;for(c=a.length;c--;)if(a[c]!==b[c])return!1;return!0}function I(a){return"string"==typeof a?[a]:void 0===a?[]:a}function J(a){return a[a.length-1]}function K(a,b){var c=a.indexOf(b);-1!==c&&a.splice(c,1)}function L(a){for(var b=[],c=a.length;c--;)b[c]=a[c];return b}function M(a){setTimeout(a,0)}function N(a,b){return function(){for(var c;c=a.shift();)c(b)}}function O(a,b,c,d){var e;if(b===a)throw new TypeError("A promise's fulfillment handler cannot return the same promise");if(b instanceof dj)b.then(c,d);else if(!b||"object"!=typeof b&&"function"!=typeof b)c(b);else{try{e=b.then}catch(f){return void d(f)}if("function"==typeof e){var g,h,i;h=function(b){g||(g=!0,O(a,b,c,d))},i=function(a){g||(g=!0,d(a))};try{e.call(b,h,i)}catch(f){if(!g)return d(f),void(g=!0)}}else c(b)}}function P(a,b,c){var d;return b=B(b),"~/"===b.substr(0,2)?(d=y(b.substring(2)),S(a,d.firstKey,c)):"."===b[0]?(d=Q(jj(c),b),d&&S(a,d.firstKey,c)):d=R(a,y(b),c),d}function Q(a,b){var c;if(void 0!=a&&"string"!=typeof a&&(a=a.str),"."===b)return y(a);if(c=a?a.split("."):[],"../"===b.substr(0,3)){for(;"../"===b.substr(0,3);){if(!c.length)throw new Error('Could not resolve reference - too many "../" prefixes');c.pop(),b=b.substring(3)}return c.push(b),y(c.join("."))}return y(a?a+b.replace(/^\.\//,"."):b.replace(/^\.\/?/,""))}function R(a,b,c,d){var e,f,g,h,i;if(b.isRoot)return b;for(f=b.firstKey;c;)if(e=c.context,c=c.parent,e&&(h=!0,g=a.viewmodel.get(e),g&&("object"==typeof g||"function"==typeof g)&&f in g))return e.join(b.str);return T(a.viewmodel,f)?b:a.parent&&!a.isolated&&(h=!0,c=a.component.parentFragment,f=y(f),i=R(a.parent,f,c,!0))?(a.viewmodel.map(f,{origin:a.parent.viewmodel,keypath:i}),b):d||h?void 0:(a.viewmodel.set(b,void 0),b)}function S(a,b){var c;!a.parent||a.isolated||T(a.viewmodel,b)||(b=y(b),(c=R(a.parent,b,a.component.parentFragment,!0))&&a.viewmodel.map(b,{origin:a.parent.viewmodel,keypath:c}))}function T(a,b){return""===b||b in a.data||b in a.computations||b in a.mappings}function U(a){a.teardown()}function V(a){a.unbind()}function W(a){a.unrender()}function X(a){a.cancel()}function Y(a){a.detach()}function Z(a){a.detachNodes()}function $(a){!a.ready||a.outros.length||a.outroChildren||(a.outrosComplete||(a.parent?a.parent.decrementOutros(a):a.detachNodes(),a.outrosComplete=!0),a.intros.length||a.totalChildren||("function"==typeof a.callback&&a.callback(),a.parent&&a.parent.decrementTotal()))}function _(){for(var a,b,c;mj.ractives.length;)b=mj.ractives.pop(),c=b.viewmodel.applyChanges(),c&&qj.fire(b,c);for(ab(),a=0;a<mj.views.length;a+=1)mj.views[a].update();for(mj.views.length=0,a=0;a<mj.tasks.length;a+=1)mj.tasks[a]();return mj.tasks.length=0,mj.ractives.length?_():void 0}function ab(){var a,b,c,d;for(a=pj.length;a--;)b=pj[a],b.keypath?pj.splice(a,1):(c=kj(b.root,b.ref,b.parentFragment))&&((d||(d=[])).push({item:b,keypath:c}),pj.splice(a,1));d&&d.forEach(bb)}function bb(a){a.item.resolve(a.keypath)}function cb(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q;if(d=new ij(function(a){return e=a}),"object"==typeof a){c=b||{},i=c.easing,j=c.duration,h=[],k=c.step,l=c.complete,(k||l)&&(n={},c.step=null,c.complete=null,m=function(a){return function(b,c){n[a]=c}});for(f in a)a.hasOwnProperty(f)&&((k||l)&&(o=m(f),c={easing:i,duration:j},k&&(c.step=o)),c.complete=l?o:wi,h.push(db(this,f,a[f],c)));return q={easing:i,duration:j},k&&(q.step=function(a){return k(a,n)}),l&&d.then(function(a){return l(a,n)}),q.complete=e,p=db(this,null,null,q),h.push(p),d.stop=function(){for(var a;a=h.pop();)a.stop();p&&p.stop()},d}return c=c||{},c.complete&&d.then(c.complete),c.complete=e,g=db(this,a,b,c),d.stop=function(){return g.stop()},d}function db(a,b,c,d){var e,f,g,i;return b&&(b=y(B(b))),null!==b&&(i=a.viewmodel.get(b)),uj.abort(b,a),h(i,c)?(d.complete&&d.complete(d.to),yj):(d.easing&&(e="function"==typeof d.easing?d.easing:a.easing[d.easing],"function"!=typeof e&&(e=null)),f=void 0===d.duration?400:d.duration,g=new wj({keypath:b,from:i,to:c,root:a,duration:f,easing:e,interpolator:d.interpolator,step:d.step,complete:d.complete}),uj.add(g),a._animations.push(g),g)}function eb(){return this.detached?this.detached:(this.el&&K(this.el.__ractive_instances__,this),this.detached=this.fragment.detach(),Aj.fire(this),this.detached)}function fb(a){return this.el?this.fragment.find(a):null}function gb(a,b){var c;return c=this._isComponentQuery?!this.selector||a.name===this.selector:a.node?li(a.node,this.selector):null,c?(this.push(a.node||a.instance),b||this._makeDirty(),!0):void 0}function hb(a){var b;return(b=a.parentFragment)?b.owner:a.component&&(b=a.component.parentFragment)?b.owner:void 0}function ib(a){var b,c;for(b=[a],c=hb(a);c;)b.push(c),c=hb(c);return b}function jb(a,b,c,d){var e=[];return zi(e,{selector:{value:b},live:{value:c},_isComponentQuery:{value:d},_test:{value:Cj}}),c?(zi(e,{cancel:{value:Dj},_root:{value:a},_sort:{value:Gj},_makeDirty:{value:Hj},_remove:{value:Ij},_dirty:{value:!1,writable:!0}}),e):e}function kb(a,b){var c,d;return this.el?(b=b||{},c=this._liveQueries,(d=c[a])?b&&b.live?d:d.slice():(d=Jj(this,a,!!b.live,!1),d.live&&(c.push(a),c["_"+a]=d),this.fragment.findAll(a,d),d)):[]}function lb(a,b){var c,d;return b=b||{},c=this._liveComponentQueries,(d=c[a])?b&&b.live?d:d.slice():(d=Jj(this,a,!!b.live,!0),d.live&&(c.push(a),c["_"+a]=d),this.fragment.findAllComponents(a,d),d)}function mb(a){return this.fragment.findComponent(a)}function nb(a){return this.container?this.container.component&&this.container.component.name===a?this.container:this.container.findContainer(a):null}function ob(a){return this.parent?this.parent.component&&this.parent.component.name===a?this.parent:this.parent.findParent(a):null}function pb(a,b){var c=void 0===arguments[2]?{}:arguments[2];if(b){c.event?c.event.name=b:c.event={name:b,_noArg:!0};var d=y(b).wildcardMatches();qb(a,d,c.event,c.args,!0)}}function qb(a,b,c,d){var e,f,g=void 0===arguments[4]?!1:arguments[4],h=!0;for(Qj.enqueue(a,c),f=b.length;f>=0;f--)e=a._subs[b[f]],e&&(h=rb(a,e,c,d)&&h);if(Qj.dequeue(a),a.parent&&h){if(g&&a.component){var i=a.component.name+"."+b[b.length-1];b=y(i).wildcardMatches(),c&&(c.component=a)}qb(a.parent,b,c,d)}}function rb(a,b,c,d){var e=null,f=!1;c&&!c._noArg&&(d=[c].concat(d)),b=b.slice();for(var g=0,h=b.length;h>g;g+=1)b[g].apply(a,d)===!1&&(f=!0);return c&&!c._noArg&&f&&(e=c.original)&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()),!f}function sb(a){var b={args:Array.prototype.slice.call(arguments,1)};Rj(this,a,b)}function tb(a){var b;return a=y(B(a)),b=this.viewmodel.get(a,Uj),void 0===b&&this.parent&&!this.isolated&&kj(this,a.str,this.component.parentFragment)&&(b=this.viewmodel.get(a)),b}function ub(b,c){if(!this.fragment.rendered)throw new Error("The API has changed - you must call `ractive.render(target[, anchor])` to render your Ractive instance. Once rendered you can use `ractive.insert()`.");if(b=a(b),c=a(c)||null,!b)throw new Error("You must specify a valid target to insert into");b.insertBefore(this.detach(),c),this.el=b,(b.__ractive_instances__||(b.__ractive_instances__=[])).push(this),this.detached=null,vb(this)}function vb(a){Wj.fire(a),a.findAllComponents("*").forEach(function(a){vb(a.instance)})}function wb(a,b,c){var d,e;return a=y(B(a)),d=this.viewmodel.get(a),f(d)&&f(b)?(e=rj.start(this,!0),this.viewmodel.merge(a,d,b,c),rj.end(),e):this.set(a,b,c&&c.complete)}function xb(a,b){var c,d;return c=z(a,b),d={},c.forEach(function(b){d[b.str]=a.get(b.str)}),d}function yb(a,b,c,d){var e,f,g;b=y(B(b)),d=d||jk,b.isPattern?(e=new hk(a,b,c,d),a.viewmodel.patternObservers.push(e),f=!0):e=new $j(a,b,c,d),e.init(d.init),a.viewmodel.register(b,e,f?"patternObservers":"observers"),e.ready=!0;var h={cancel:function(){var c;g||(f?(c=a.viewmodel.patternObservers.indexOf(e),a.viewmodel.patternObservers.splice(c,1),a.viewmodel.unregister(b,e,"patternObservers")):a.viewmodel.unregister(b,e,"observers"),g=!0)}};return a._observers.push(h),h}function zb(a,b,c){var d,e,f,g;if(j(a)){c=b,e=a,d=[];for(a in e)e.hasOwnProperty(a)&&(b=e[a],d.push(this.observe(a,b,c)));return{cancel:function(){for(;d.length;)d.pop().cancel()}}}if("function"==typeof a)return c=b,b=a,a="",ik(this,a,b,c);if(f=a.split(" "),1===f.length)return ik(this,a,b,c);for(d=[],g=f.length;g--;)a=f[g],a&&d.push(ik(this,a,b,c));return{cancel:function(){for(;d.length;)d.pop().cancel()}}}function Ab(a,b,c){var d=this.observe(a,function(){b.apply(this,arguments),d.cancel()},{init:!1,defer:c&&c.defer});return d}function Bb(a,b){var c,d=this;if(a)c=a.split(" ").map(mk).filter(nk),c.forEach(function(a){var c,e;(c=d._subs[a])&&(b?(e=c.indexOf(b),-1!==e&&c.splice(e,1)):d._subs[a]=[])});else for(a in this._subs)delete this._subs[a];return this}function Cb(a,b){var c,d,e,f=this;if("object"==typeof a){c=[];for(d in a)a.hasOwnProperty(d)&&c.push(this.on(d,a[d]));return{cancel:function(){for(var a;a=c.pop();)a.cancel()}}}return e=a.split(" ").map(mk).filter(nk),e.forEach(function(a){(f._subs[a]||(f._subs[a]=[])).push(b)}),{cancel:function(){return f.off(a,b)}}}function Db(a,b){var c=this.on(a,function(){b.apply(this,arguments),c.cancel()});return c}function Eb(a,b,c){var d,e,f,g,h,i,j=[];if(d=Fb(a,b,c),!d)return null;for(e=a.length,h=d.length-2-d[1],f=Math.min(e,d[0]),g=f+d[1],i=0;f>i;i+=1)j.push(i);for(;g>i;i+=1)j.push(-1);for(;e>i;i+=1)j.push(i+h);return j.touchedFrom=0!==h?d[0]:a.length,j}function Fb(a,b,c){switch(b){case"splice":for(void 0!==c[0]&&c[0]<0&&(c[0]=a.length+Math.max(c[0],-a.length));c.length<2;)c.push(0);return c[1]=Math.min(c[1],a.length-c[0]),c;case"sort":case"reverse":return null;case"pop":return a.length?[a.length-1,1]:[0,0];case"push":return[a.length,0].concat(c);case"shift":return[0,a.length?1:0];case"unshift":return[0,0].concat(c)}}function Gb(b,c){var d,e,f,g=this;if(f=this.transitionsEnabled,this.noIntro&&(this.transitionsEnabled=!1),d=rj.start(this,!0),rj.scheduleTask(function(){return Dk.fire(g)},!0),this.fragment.rendered)throw new Error("You cannot call ractive.render() on an already rendered instance! Call ractive.unrender() first");if(b=a(b)||this.el,c=a(c)||this.anchor,this.el=b,this.anchor=c,!this.append&&b){var h=b.__ractive_instances__;h&&h.length&&Hb(h),b.innerHTML=""}return this.cssId&&Bk.apply(),b&&((e=b.__ractive_instances__)?e.push(this):b.__ractive_instances__=[this],c?b.insertBefore(this.fragment.render(),c):b.appendChild(this.fragment.render())),rj.end(),this.transitionsEnabled=f,d.then(function(){return Ek.fire(g)})}function Hb(a){a.splice(0,a.length).forEach(U)}function Ib(a,b){for(var c=a.slice(),d=b.length;d--;)~c.indexOf(b[d])||c.push(b[d]);return c}function Jb(a,b){var c,d,e;return d='[data-ractive-css~="{'+b+'}"]',e=function(a){var b,c,e,f,g,h,i,j=[];for(b=[];c=Kk.exec(a);)b.push({str:c[0],base:c[1],modifiers:c[2]});for(f=b.map(Lb),i=b.length;i--;)h=f.slice(),e=b[i],h[i]=e.base+d+e.modifiers||"",g=f.slice(),g[i]=d+" "+g[i],j.push(h.join(" "),g.join(" "));return j.join(", ")},c=Mk.test(a)?a.replace(Mk,d):a.replace(Jk,"").replace(Ik,function(a,b){var c,d;return Lk.test(b)?a:(c=b.split(",").map(Kb),d=c.map(e).join(", ")+" ",a.replace(b,d))})}function Kb(a){return a.trim?a.trim():a.replace(/^\s+/,"").replace(/\s+$/,"")}function Lb(a){return a.str}function Mb(a){a&&a.constructor!==Object&&("function"==typeof a||("object"!=typeof a?l("data option must be an object or a function, `"+a+"` is not valid"):p("If supplied, options.data should be a plain JavaScript object - using a non-POJO as the root object may work, but is discouraged")))}function Nb(a,b){Mb(b);var c="function"==typeof a,d="function"==typeof b;return b||c||(b={}),c||d?function(){var e=d?Ob(b,this):b,f=c?Ob(a,this):a;return Pb(e,f)}:Pb(b,a)}function Ob(a,b){var c=a.call(b);if(c)return"object"!=typeof c&&l("Data function must return an object"),c.constructor!==Object&&q("Data function returned something other than a plain JavaScript object. This might work, but is strongly discouraged"),c}function Pb(a,b){if(a&&b){for(var c in b)c in a||(a[c]=b[c]);return a}return a||b}function Qb(a){var b,c,d;return a.matchString("=")?(b=a.pos,a.allowWhitespace(),(c=a.matchPattern(Jl))?a.matchPattern(Kl)?(d=a.matchPattern(Jl))?(a.allowWhitespace(),a.matchString("=")?[c,d]:(a.pos=b,null)):(a.pos=b,null):null:(a.pos=b,null)):null}function Rb(a){var b;return(b=a.matchPattern(Ml))?{t:ql,v:b}:null}function Sb(a){var b,c;if(a.interpolate[a.inside]===!1)return null;for(c=0;c<a.tags.length;c+=1)if(b=Tb(a,a.tags[c]))return b}function Tb(a,b){var c,d,e,f;if(c=a.pos,a.matchString("\\"+b.open)){if(0===c||"\\"!==a.str[c-1])return b.open}else if(!a.matchString(b.open))return null;if(d=Il(a))return a.matchString(b.close)?(b.open=d[0],b.close=d[1],a.sortMustacheTags(),Ol):null;if(a.allowWhitespace(),a.matchString("/")){a.pos-=1;var g=a.pos;Ll(a)?a.pos=g:(a.pos=g-b.close.length,a.error("Attempted to close a section that wasn't open"))}for(f=0;f<b.readers.length;f+=1)if(e=b.readers[f],d=e(a,b))return b.isStatic&&(d.s=!0),a.includeLinePositions&&(d.p=a.getLinePos(c)),d;return a.pos=c,null}function Ub(a){var b;return(b=a.matchPattern(Sl))?{t:ll,v:b}:null}function Vb(a){var b=a.remaining();return"true"===b.substr(0,4)?(a.pos+=4,{t:pl,v:"true"}):"false"===b.substr(0,5)?(a.pos+=5,{t:pl,v:"false"}):null}function Wb(a){var b;return(b=Zl(a))?am.test(b.v)?b.v:'"'+b.v.replace(/"/g,'\\"')+'"':(b=Rl(a))?b.v:(b=a.matchPattern($l))?b:void 0}function Xb(a){var b,c,d;return b=a.pos,a.allowWhitespace(),c=_l(a),null===c?(a.pos=b,null):(a.allowWhitespace(),a.matchString(":")?(a.allowWhitespace(),d=Em(a),null===d?(a.pos=b,null):{t:sl,k:c,v:d}):(a.pos=b,null))}function Yb(a){var b,c,d,e;return b=a.pos,d=bm(a),null===d?null:(c=[d],a.matchString(",")?(e=Yb(a),e?c.concat(e):(a.pos=b,null)):c)}function Zb(a){function b(a){d.push(a)}var c,d,e,f;return c=a.pos,a.allowWhitespace(),e=Em(a),null===e?null:(d=[e],a.allowWhitespace(),a.matchString(",")&&(f=Zb(a),null===f&&a.error(Pl),f.forEach(b)),d)}function $b(a){return Rl(a)||Tl(a)||Zl(a)||dm(a)||fm(a)||Ll(a)}function _b(a){var b,c,d,e,f,g;return b=a.pos,d=a.matchPattern(/^@(?:keypath|index|key)/),d||(c=a.matchPattern(im)||"",d=!c&&a.relaxedNames&&a.matchPattern(mm)||a.matchPattern(lm),d||"."!==c||(c="",d=".")),d?c||a.relaxedNames||!Vl.test(d)?!c&&Ul.test(d)?(e=Ul.exec(d)[0],a.pos=b+e.length,{t:rl,v:e}):(f=(c||"")+B(d),a.matchString("(")&&(g=f.lastIndexOf("."),-1!==g?(f=f.substr(0,g),a.pos=b+f.length):a.pos-=1),{t:tl,n:f.replace(/^this\./,"./").replace(/^this$/,".")}):(a.pos=b,null):null}function ac(a){var b,c;return b=a.pos,a.matchString("(")?(a.allowWhitespace(),c=Em(a),c||a.error(Pl),a.allowWhitespace(),a.matchString(")")||a.error(Ql),{t:xl,x:c}):null}function bc(a){var b,c,d;if(b=a.pos,a.allowWhitespace(),a.matchString(".")){if(a.allowWhitespace(),c=a.matchPattern($l))return{t:ul,n:c};a.error("Expected a property name")}return a.matchString("[")?(a.allowWhitespace(),d=Em(a),d||a.error(Pl),a.allowWhitespace(),a.matchString("]")||a.error("Expected ']'"),{t:ul,x:d}):null}function cc(a){var b,c,d,e;return(c=Cm(a))?(b=a.pos,a.allowWhitespace(),a.matchString("?")?(a.allowWhitespace(),d=Em(a),d||a.error(Pl),a.allowWhitespace(),a.matchString(":")||a.error('Expected ":"'),a.allowWhitespace(),e=Em(a),e||a.error(Pl),{t:yl,o:[c,d,e]}):(a.pos=b,c)):null}function dc(a){return Dm(a)}function ec(a){function b(a){switch(a.t){case pl:case rl:case ll:case ql:return a.v;case ml:return JSON.stringify(String(a.v));case nl:return"["+(a.m?a.m.map(b).join(","):"")+"]";case ol:return"{"+(a.m?a.m.map(b).join(","):"")+"}";case sl:return a.k+":"+b(a.v);case wl:return("typeof"===a.s?"typeof ":a.s)+b(a.o);case zl:return b(a.o[0])+("in"===a.s.substr(0,2)?" "+a.s+" ":a.s)+b(a.o[1]);case Al:return b(a.x)+"("+(a.o?a.o.map(b).join(","):"")+")";case xl:return"("+b(a.x)+")";case vl:return b(a.x)+b(a.r);case ul:return a.n?"."+a.n:"["+b(a.x)+"]";case yl:return b(a.o[0])+"?"+b(a.o[1])+":"+b(a.o[2]);case tl:return"_"+c.indexOf(a.n);default:throw new Error("Expected legal JavaScript")}}var c;return fc(a,c=[]),{r:c,s:b(a)}}function fc(a,b){var c,d;if(a.t===tl&&-1===b.indexOf(a.n)&&b.unshift(a.n),d=a.o||a.m)if(j(d))fc(d,b);else for(c=d.length;c--;)fc(d[c],b);a.x&&fc(a.x,b),a.r&&fc(a.r,b),a.v&&fc(a.v,b)}function gc(a,b){var c;if(a){for(;a.t===xl&&a.x;)a=a.x;return a.t===tl?b.r=a.n:a.t===ll&&Hm.test(a.v)?b.r=a.v:(c=hc(a))?b.rx=c:b.x=Fm(a),b}}function hc(a){for(var b,c=[];a.t===vl&&a.r.t===ul;)b=a.r,c.unshift(b.x?b.x.t===tl?b.x:Fm(b.x):b.n),a=a.x;return a.t!==tl?null:{r:a.n,m:c}}function ic(a,b){var c,d=Em(a);return d?(a.matchString(b.close)||a.error("Expected closing delimiter '"+b.close+"'"),c={t:Zk},Gm(d,c),c):null}function jc(a,b){var c,d;return a.matchString("&")?(a.allowWhitespace(),(c=Em(a))?(a.matchString(b.close)||a.error("Expected closing delimiter '"+b.close+"'"),d={t:Zk},Gm(c,d),d):null):null}function kc(a,b){var c,d,e,f,g;return c=a.pos,a.matchString(">")?(a.allowWhitespace(),d=a.pos,a.relaxedNames=!0,e=Em(a),a.relaxedNames=!1,a.allowWhitespace(),f=Em(a),a.allowWhitespace(),e?(g={t:cl},Gm(e,g),a.allowWhitespace(),f&&(g={t:$k,n:El,f:[g]},Gm(f,g)),a.matchString(b.close)||a.error("Expected closing delimiter '"+b.close+"'"),g):null):null}function lc(a,b){var c;return a.matchString("!")?(c=a.remaining().indexOf(b.close),-1!==c?(a.pos+=c+b.close.length,{t:dl}):void 0):null}function mc(a,b){var c,d,e;if(c=a.pos,d=Em(a),!d)return null;for(e=0;e<b.length;e+=1)if(a.remaining().substr(0,b[e].length)===b[e])return d;return a.pos=c,hm(a)}function nc(a,b){var c,d,e,f;c=a.pos;try{d=Mm(a,[b.close])}catch(g){f=g}if(!d){if("!"===a.str.charAt(c))return a.pos=c,null;if(f)throw f}if(!a.matchString(b.close)&&(a.error("Expected closing delimiter '"+b.close+"' after reference"),!d)){if("!"===a.nextChar())return null;a.error("Expected expression or legal reference")}return e={t:Yk},Gm(d,e),e}function oc(a,b){var c,d,e;return a.matchPattern(Pm)?(c=a.pos,d=a.matchPattern(/^[a-zA-Z_$][a-zA-Z_$0-9\-]*/),a.allowWhitespace(),a.matchString(b.close)||a.error("expected legal partial name"),e={t:il},d&&(e.n=d),e):null}function pc(a,b){var c,d,e,f;return c=a.pos,a.matchString(b.open)?(a.allowWhitespace(),a.matchString("/")?(a.allowWhitespace(),d=a.remaining(),e=d.indexOf(b.close),-1!==e?(f={t:al,r:d.substr(0,e).split(" ")[0]},a.pos+=e,a.matchString(b.close)||a.error("Expected closing delimiter '"+b.close+"'"),f):(a.pos=c,null)):(a.pos=c,null)):null}function qc(a,b){var c=a.pos;return a.matchString(b.open)?a.matchPattern(Sm)?(a.matchString(b.close)||a.error("Expected closing delimiter '"+b.close+"'"),{t:Gl}):(a.pos=c,null):null}function rc(a,b){var c,d=a.pos;return a.matchString(b.open)?a.matchPattern(Um)?(c=Em(a),a.matchString(b.close)||a.error("Expected closing delimiter '"+b.close+"'"),{t:Hl,x:c}):(a.pos=d,null):null}function sc(a,b){var c,d,e,f,g,h,i,j,k,l,m,n;if(c=a.pos,a.matchString("^"))e={t:$k,f:[],n:Cl};else{if(!a.matchString("#"))return null;e={t:$k,f:[]},a.matchString("partial")&&(a.pos=c-a.standardDelimiters[0].length,a.error("Partial definitions can only be at the top level of the template, or immediately inside components")),(i=a.matchPattern(Zm))&&(n=i,e.n=Vm[i])}if(a.allowWhitespace(),d=Em(a),d||a.error("Expected expression"),m=a.matchPattern(Xm)){var o=void 0;e.i=(o=a.matchPattern(Ym))?m+","+o:m}a.allowWhitespace(),a.matchString(b.close)||a.error("Expected closing delimiter '"+b.close+"'"),a.sectionDepth+=1,g=e.f,k=[];do if(f=Qm(a,b))n&&f.r!==n&&a.error("Expected "+b.open+"/"+n+b.close),a.sectionDepth-=1,l=!0;else if(f=Tm(a,b))e.n===Cl&&a.error("{{else}} not allowed in {{#unless}}"),h&&a.error("illegal {{elseif...}} after {{else}}"),j||(j=tc(d,e.n)),j.f.push({t:$k,n:Bl,x:Fm(vc(k.concat(f.x))),f:g=[]}),k.push(uc(f.x));else if(f=Rm(a,b))e.n===Cl&&a.error("{{else}} not allowed in {{#unless}}"),h&&a.error("there can only be one {{else}} block, at the end of a section"),h=!0,j?j.f.push({t:$k,n:Bl,x:Fm(vc(k)),f:g=[]}):(j=tc(d,e.n),g=j.f);else{if(f=a.read(co),!f)break;g.push(f)}while(!l);return j&&(e.n===El&&(e.n=Fl),e.l=j),Gm(d,e),e.f.length||delete e.f,e}function tc(a,b){var c;return b===El?(c={t:$k,n:Bl,f:[]},Gm(uc(a),c)):(c={t:$k,n:Cl,f:[]},Gm(a,c)),c}function uc(a){return a.t===wl&&"!"===a.s?a.o:{t:wl,s:"!",o:wc(a)}}function vc(a){return 1===a.length?a[0]:{t:zl,s:"&&",o:[wc(a[0]),wc(vc(a.slice(1)))]}}function wc(a){return{t:xl,x:a}}function xc(a){var b,c,d,e,f;return b=a.pos,a.matchString(_m)?(d=a.remaining(),e=d.indexOf(an),-1===e&&a.error("Illegal HTML - expected closing comment sequence ('-->')"),c=d.substr(0,e),a.pos+=e+3,f={t:dl,c:c},a.includeLinePositions&&(f.p=a.getLinePos(b)),f):null}function yc(a){return a.replace(ym,function(a,b){var c;return c="#"!==b[0]?wm[b]:"x"===b[1]?parseInt(b.substring(2),16):parseInt(b.substring(1),10),c?String.fromCharCode(zc(c)):a})}function zc(a){return a?10===a?32:128>a?a:159>=a?xm[a-128]:55296>a?a:57343>=a?65533:65535>=a?a:65533:65533}function Ac(a){return a.replace(Bm,"&amp;").replace(zm,"&lt;").replace(Am,"&gt;")}function Bc(a){return"string"==typeof a}function Cc(a){return a.t===dl||a.t===el}function Dc(a){return(a.t===$k||a.t===_k)&&a.f}function Ec(a,b,c,d,e){var g,h,i,j,k,l,m,n;for(ln(a),g=a.length;g--;)h=a[g],h.exclude?a.splice(g,1):b&&h.t===dl&&a.splice(g,1);for(on(a,d,e),g=a.length;g--;){if(h=a[g],h.f&&(k=c||h.t===bl&&rn.test(h.e),k||(i=a[g-1],j=a[g+1],(!i||"string"==typeof i&&tn.test(i))&&(l=!0),(!j||"string"==typeof j&&sn.test(j))&&(m=!0)),Ec(h.f,b,k,l,m)),h.l&&(Ec(h.l.f,b,c,l,m),a.splice(g+1,0,h.l),delete h.l),h.a)for(n in h.a)h.a.hasOwnProperty(n)&&"string"!=typeof h.a[n]&&Ec(h.a[n],b,c,l,m);if(h.m&&Ec(h.m,b,c,l,m),h.v)for(n in h.v)h.v.hasOwnProperty(n)&&(f(h.v[n].n)&&Ec(h.v[n].n,b,c,l,m),f(h.v[n].d)&&Ec(h.v[n].d,b,c,l,m))}for(g=a.length;g--;)"string"==typeof a[g]&&("string"==typeof a[g+1]&&(a[g]=a[g]+a[g+1],a.splice(g+1,1)),c||(a[g]=a[g].replace(qn," ")),""===a[g]&&a.splice(g,1))}function Fc(a){var b,c;return b=a.pos,a.matchString("</")?(c=a.matchPattern(vn))?a.inside&&c!==a.inside?(a.pos=b,null):{t:gl,e:c}:(a.pos-=2,void a.error("Illegal closing tag")):null}function Gc(a){var b,c,d;return a.allowWhitespace(),(c=a.matchPattern(yn))?(b={name:c},d=Hc(a),null!=d&&(b.value=d),b):null}function Hc(a){var b,c,d,e;return b=a.pos,/[=\/>\s]/.test(a.nextChar())||a.error("Expected `=`, `/`, `>` or whitespace"),a.allowWhitespace(),a.matchString("=")?(a.allowWhitespace(),c=a.pos,d=a.sectionDepth,e=Kc(a,"'")||Kc(a,'"')||Jc(a),null===e&&a.error("Expected valid attribute value"),a.sectionDepth!==d&&(a.pos=c,a.error("An attribute value must contain as many opening section tags as closing section tags")),e.length?1===e.length&&"string"==typeof e[0]?yc(e[0]):e:""):(a.pos=b,null)}function Ic(a){var b,c,d,e,f;return b=a.pos,(c=a.matchPattern(zn))?(d=c,e=a.tags.map(function(a){return a.open}),-1!==(f=wn(d,e))&&(c=c.substr(0,f),a.pos=b+c.length),c):null}function Jc(a){var b,c;for(a.inAttribute=!0,b=[],c=Nl(a)||Ic(a);null!==c;)b.push(c),c=Nl(a)||Ic(a);return b.length?(a.inAttribute=!1,b):null}function Kc(a,b){var c,d,e;if(c=a.pos,!a.matchString(b))return null;for(a.inAttribute=b,d=[],e=Nl(a)||Lc(a,b);null!==e;)d.push(e),e=Nl(a)||Lc(a,b);return a.matchString(b)?(a.inAttribute=!1,d):(a.pos=c,null)}function Lc(a,b){var c,d,e,f;return c=a.pos,e=a.remaining(),f=a.tags.map(function(a){return a.open}),f.push(b),d=wn(e,f),-1===d&&a.error("Quoted attribute value must have a closing quote"),d?(a.pos+=d,e.substr(0,d)):null}function Mc(a){var b,c,d;return a.allowWhitespace(),(b=_l(a))?(d={key:b},a.allowWhitespace(),a.matchString(":")?(a.allowWhitespace(),(c=a.read())?(d.value=c.v,d):null):null):null}function Nc(a,b){var c,d,e,f,g,h,i,j,k;if("string"==typeof a){if(d=Dn.exec(a)){var l=a.lastIndexOf(")");return En.test(a)||b.error("Invalid input after method call expression '"+a.slice(l+1)+"'"),c={m:d[1]},f="["+a.slice(c.m.length+1,l)+"]",e=new An(f),c.a=Fm(e.result[0]),c}if(-1===a.indexOf(":"))return a.trim();a=[a]}if(c={},i=[],j=[],a){for(;a.length;)if(g=a.shift(),"string"==typeof g){if(h=g.indexOf(":"),-1!==h){h&&i.push(g.substr(0,h)),g.length>h+1&&(j[0]=g.substring(h+1));break}i.push(g)}else i.push(g);j=j.concat(a)}return i.length?j.length||"string"!=typeof i?(c={n:1===i.length&&"string"==typeof i[0]?i[0]:i},1===j.length&&"string"==typeof j[0]?(k=Bn("["+j[0]+"]"),c.a=k?k.value:j[0].trim()):c.d=j):c=i:c="",c}function Oc(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;if(b=a.pos,a.inside||a.inAttribute)return null;if(!a.matchString("<"))return null;if("/"===a.nextChar())return null;if(c={},a.includeLinePositions&&(c.p=a.getLinePos(b)),a.matchString("!"))return c.t=kl,a.matchPattern(/^doctype/i)||a.error("Expected DOCTYPE declaration"),c.a=a.matchPattern(/^(.+?)>/),c;if(c.t=bl,c.e=a.matchPattern(Gn),!c.e)return null;for(Hn.test(a.nextChar())||a.error("Illegal tag name"),f=function(b,d){var e=d.n||d;Kn.test(e)&&(a.pos-=e.length,a.error("Cannot use reserved event names (change, reset, teardown, update, construct, config, init, render, unrender, detach, insert)")),c.v[b]=d},a.allowWhitespace();g=Nl(a)||xn(a);)g.name?(d=Ln[g.name])?c[d]=Cn(g.value,a):(e=Jn.exec(g.name))?(c.v||(c.v={}),h=Cn(g.value,a),f(e[1],h)):a.sanitizeEventAttributes&&In.test(g.name)||(c.a||(c.a={}),c.a[g.name]=g.value||(""===g.value?"":0)):(c.m||(c.m=[]),c.m.push(g)),a.allowWhitespace();if(a.allowWhitespace(),a.matchString("/")&&(i=!0),!a.matchString(">"))return null;var r=c.e.toLowerCase(),s=a.preserveWhitespace;if(!i&&!vm.test(c.e)){a.elementStack.push(r),("script"===r||"style"===r)&&(a.inside=r),j=[],k=xi(null);do if(o=a.pos,p=a.remaining(),Pc(r,p))if(q=un(a)){n=!0;var t=q.e.toLowerCase();if(t!==r&&(a.pos=o,!~a.elementStack.indexOf(t))){var u="Unexpected closing tag";vm.test(t)&&(u+=" (<"+t+"> is a void element - it cannot contain children)"),a.error(u)}}else(m=Qm(a,{open:a.standardDelimiters[0],close:a.standardDelimiters[1]}))?(n=!0,a.pos=o):(m=a.read(eo))?(k[m.n]&&(a.pos=o,a.error("Duplicate partial definition")),pn(m.f,a.stripComments,s,!s,!s),k[m.n]=m.f,l=!0):(m=a.read(co))?j.push(m):n=!0;else n=!0;while(!n);j.length&&(c.f=j),l&&(c.p=k),a.elementStack.pop()}return a.inside=null,a.sanitizeElements&&-1!==a.sanitizeElements.indexOf(r)?Mn:c}function Pc(a,b){var c,d;return c=/^<([a-zA-Z][a-zA-Z0-9]*)/.exec(b),d=Fn[a],c&&d?!~d.indexOf(c[1].toLowerCase()):!0}function Qc(a){var b,c,d,e;return c=a.remaining(),e=a.inside?"</"+a.inside:"<",a.inside&&!a.interpolate[a.inside]?b=c.indexOf(e):(d=a.tags.map(function(a){return a.open}),d=d.concat(a.tags.map(function(a){return"\\"+a.open})),a.inAttribute===!0?d.push('"',"'","=","<",">","`"):d.push(a.inAttribute?a.inAttribute:e),b=wn(c,d)),b?(-1===b&&(b=c.length),a.pos+=b,a.inside?c.substr(0,b):yc(c.substr(0,b))):null}function Rc(a){return a.replace(Rn,"\\$&")}function Sc(a){var b=a.pos,c=a.standardDelimiters[0],d=a.standardDelimiters[1],e=void 0,f=void 0;if(!a.matchPattern(Tn)||!a.matchString(c))return a.pos=b,null;var g=a.matchPattern(Un);if(q("Inline partial comments are deprecated.\nUse this...\n  {{#partial "+g+"}} ... {{/partial}}\n\n...instead of this:\n  <!-- {{>"+g+"}} --> ... <!-- {{/"+g+"}} -->'"),!a.matchString(d)||!a.matchPattern(Vn))return a.pos=b,null;e=[];var h=new RegExp("^<!--\\s*"+Qn(c)+"\\s*\\/\\s*"+g+"\\s*"+Qn(d)+"\\s*-->");do a.matchPattern(h)?f=!0:(Nn=a.read(co),Nn||a.error("expected closing comment ('<!-- "+c+"/"+g+d+" -->')"),e.push(Nn));while(!f);return{t:jl,f:e,n:g}}function Tc(a){var b,c,d,e,f;b=a.pos;var g=a.standardDelimiters;if(!a.matchString(g[0]))return null;if(!a.matchPattern(Xn))return a.pos=b,null;c=a.matchPattern(/^[a-zA-Z_$][a-zA-Z_$0-9\-]*/),c||a.error("expected legal partial name"),a.matchString(g[1])||a.error("Expected closing delimiter '"+g[1]+"'"),d=[];do(e=Qm(a,{open:a.standardDelimiters[0],close:a.standardDelimiters[1]}))?("partial"===!e.r&&a.error("Expected "+g[0]+"/partial"+g[1]),f=!0):(e=a.read(co),e||a.error("Expected "+g[0]+"/partial"+g[1]),d.push(e));while(!f);return{t:jl,n:c,f:d}}function Uc(a){for(var b=[],c=xi(null),d=!1,e=a.preserveWhitespace;a.pos<a.str.length;){var f=a.pos,g=void 0,h=void 0;(h=a.read(eo))?(c[h.n]&&(a.pos=f,a.error("Duplicated partial definition")),pn(h.f,a.stripComments,e,!e,!e),c[h.n]=h.f,d=!0):(g=a.read(co))?b.push(g):a.error("Unexpected template content")
}var i={v:fi,t:b};return d&&(i.p=c),i}function Vc(a,b){return new bo(a,b||{}).result}function Wc(a){var b=xi(jo);return b.parse=function(b,c){return Xc(b,c||a)},b}function Xc(a,b){if(!Zn)throw new Error("Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser");return Zn(a,b||this.options)}function Yc(a,b){var c;if(!$h){if(b&&b.noThrow)return;throw new Error("Cannot retrieve template #"+a+" as Ractive is not running in a browser.")}if(Zc(a)&&(a=a.substring(1)),!(c=document.getElementById(a))){if(b&&b.noThrow)return;throw new Error("Could not find template element with id #"+a)}if("SCRIPT"!==c.tagName.toUpperCase()){if(b&&b.noThrow)return;throw new Error("Template element with id #"+a+", must be a <script> element")}return c.textContent}function Zc(a){return a&&"#"===a.charAt(0)}function $c(a){return!("string"==typeof a)}function _c(a){return a.defaults&&(a=a.defaults),io.reduce(function(b,c){return b[c]=a[c],b},{})}function ad(a){var b,c=a._config.template;if(c&&c.fn)return b=bd(a,c.fn),b!==c.result?(c.result=b,b=dd(b,a)):void 0}function bd(a,b){var c=cd(ko.getParseOptions(a));return b.call(a,c)}function cd(a){var b=xi(ko);return b.parse=function(b,c){return ko.parse(b,c||a)},b}function dd(a,b){if("string"==typeof a)"#"===a[0]&&(a=ko.fromId(a)),a=Zn(a,ko.getParseOptions(b));else{if("number"!=typeof a.v)throw new Error("The template parser was passed a non-string template, but the template doesn't have a version.  Make sure you're passing in the template you think you are.");if(a.v!==fi)throw new Error("Mismatched template version (expected "+fi+", got "+a.v+") Please ensure you are using the latest version of Ractive.js in your build process as well as in your app")}return a}function ed(a,b,c){if(b)for(var d in b)(c||!a.hasOwnProperty(d))&&(a[d]=b[d])}function fd(a,b,c){if(!/_super/.test(c))return c;var d=function(){var a,e=gd(d._parent,b),f="_super"in this,g=this._super;return this._super=e,a=c.apply(this,arguments),f?this._super=g:delete this._super,a};return d._parent=a,d._method=c,d}function gd(a,b){var c,d;return b in a?(c=a[b],d="function"==typeof c?c:function(){return c}):d=wi,d}function hd(a,b,c){return"options."+a+" has been deprecated in favour of options."+b+"."+(c?" You cannot specify both options, please use options."+b+".":"")}function id(a,b,c){if(b in a){if(c in a)throw new Error(hd(b,c,!0));p(hd(b,c)),a[c]=a[b]}}function jd(a){id(a,"beforeInit","onconstruct"),id(a,"init","onrender"),id(a,"complete","oncomplete"),id(a,"eventDefinitions","events"),f(a.adaptors)&&id(a,"adaptors","adapt")}function kd(a,b,c,d){vo(d);for(var e in d)if(so.hasOwnProperty(e)){var f=d[e];"el"!==e&&"function"==typeof f?p(""+e+" is a Ractive option that does not expect a function and will be ignored","init"===a?c:null):c[e]=f}to.forEach(function(e){e[a](b,c,d)}),Gk[a](b,c,d),mo[a](b,c,d),Pk[a](b,c,d),ld(b.prototype,c,d)}function ld(a,b,c){for(var d in c)if(!ro[d]&&c.hasOwnProperty(d)){var e=c[d];"function"==typeof e&&(e=uo(a,d,e)),b[d]=e}}function md(a){var b={};return a.forEach(function(a){return b[a]=!0}),b}function nd(){this.dirtyValue=this.dirtyArgs=!0,this.bound&&"function"==typeof this.owner.bubble&&this.owner.bubble()}function od(){var a;return 1===this.items.length?this.items[0].detach():(a=document.createDocumentFragment(),this.items.forEach(function(b){var c=b.detach();c&&a.appendChild(c)}),a)}function pd(a){var b,c,d,e;if(this.items){for(c=this.items.length,b=0;c>b;b+=1)if(d=this.items[b],d.find&&(e=d.find(a)))return e;return null}}function qd(a,b){var c,d,e;if(this.items)for(d=this.items.length,c=0;d>c;c+=1)e=this.items[c],e.findAll&&e.findAll(a,b);return b}function rd(a,b){var c,d,e;if(this.items)for(d=this.items.length,c=0;d>c;c+=1)e=this.items[c],e.findAllComponents&&e.findAllComponents(a,b);return b}function sd(a){var b,c,d,e;if(this.items){for(b=this.items.length,c=0;b>c;c+=1)if(d=this.items[c],d.findComponent&&(e=d.findComponent(a)))return e;return null}}function td(a){var b,c=a.index;return b=this.items[c+1]?this.items[c+1].firstNode():this.owner===this.root?this.owner.component?this.owner.component.findNextNode():null:this.owner.findNextNode(this)}function ud(){return this.items&&this.items[0]?this.items[0].firstNode():null}function vd(a,b,c,d){return d=d||0,a.map(function(a){var e,f,g;return a.text?a.text:a.fragments?a.fragments.map(function(a){return vd(a.items,b,c,d)}).join(""):(e=c+"-"+d++,g=a.keypath&&(f=a.root.viewmodel.wrapped[a.keypath.str])?f.value:a.getValue(),b[e]=g,"${"+e+"}")}).join("")}function wd(){var a,b,c,d;return this.dirtyArgs&&(b=Fo(this.items,a={},this.root._guid),c=Bn("["+b+"]",a),d=c?c.value:[this.toString()],this.argsList=d,this.dirtyArgs=!1),this.argsList}function xd(){var a=this;do if(a.pElement)return a.pElement.node;while(a=a.parent);return this.root.detached||this.root.el}function yd(){var a,b,c,d;return this.dirtyValue&&(b=Fo(this.items,a={},this.root._guid),c=Bn(b,a),d=c?c.value:this.toString(),this.value=d,this.dirtyValue=!1),this.value}function zd(){this.registered&&this.root.viewmodel.unregister(this.keypath,this),this.resolver&&this.resolver.unbind()}function Ad(){return this.value}function Bd(a,b){for(var c,d=0;d<b.prop.length;d++)if(void 0!==(c=a[b.prop[d]]))return c}function Cd(a,b){var c,d,e,f,g,h={},i=!1;for(b||(h.refs=c={});a;){if((g=a.owner)&&(d=g.indexRefs)){if(b&&(e=g.getIndexRef(b)))return h.ref={fragment:a,ref:e},h;if(!b)for(f in d)e=d[f],c[e.n]||(i=!0,c[e.n]={fragment:a,ref:e})}!a.parent&&a.owner&&a.owner.component&&a.owner.component.parentFragment&&!a.owner.component.instance.isolated?(h.componentBoundary=!0,a=a.owner.component.parentFragment):a=a.parent}return i?h:void 0}function Dd(a,b,c){var d;return"@"===b.charAt(0)?new So(a,b,c):(d=Vo(a.parentFragment,b))?new Uo(a,d,c):new Po(a,b,c)}function Ed(a,b){var c,d;if(Zo[a])return Zo[a];for(d=[];b--;)d[b]="_"+b;return c=new Function(d.join(","),"return("+a+")"),Zo[a]=c,c}function Fd(a){return a.call()}function Gd(a,b){return a.replace(/_([0-9]+)/g,function(a,c){var d,e;return+c>=b.length?"_"+c:(d=b[c],void 0===d?"undefined":d.isSpecial?(e=d.value,"number"==typeof e?e:'"'+e+'"'):d.str)})}function Hd(a){return y("${"+a.replace(/[\.\[\]]/g,"-").replace(/\*/,"#MUL#")+"}")}function Id(a){return void 0!==a&&"@"!==a[0]}function Jd(a,b){var c,d,e;if(a.__ractive_nowrap)return a;if(d="__ractive_"+b._guid,c=a[d])return c;if(/this/.test(a.toString())){yi(a,d,{value:$o.call(a,b),configurable:!0});for(e in a)a.hasOwnProperty(e)&&(a[d][e]=a[e]);return b._boundFunctions.push({fn:a,prop:d}),a[d]}return yi(a,"__ractive_nowrap",{value:a}),a.__ractive_nowrap}function Kd(a){return a.value}function Ld(a){return void 0!=a}function Md(a){a.forceResolution()}function Nd(a,b){function c(b){a.resolve(b)}function d(b){var c=a.keypath;b!=c&&(a.resolve(b),void 0!==c&&a.fragments&&a.fragments.forEach(function(a){a.rebind(c,b)}))}var e,f,g;f=b.parentFragment,g=b.template,a.root=f.root,a.parentFragment=f,a.pElement=f.pElement,a.template=b.template,a.index=b.index||0,a.isStatic=b.template.s,a.type=b.template.t,a.registered=!1,(e=g.r)&&(a.resolver=Xo(a,e,c)),b.template.x&&(a.resolver=new _o(a,f,b.template.x,d)),b.template.rx&&(a.resolver=new dp(a,b.template.rx,d)),a.template.n!==Cl||a.hasOwnProperty("value")||a.setValue(void 0)}function Od(a){var b,c,d;return a&&a.isSpecial?(this.keypath=a,void this.setValue(a.value)):(this.registered&&(this.root.viewmodel.unregister(this.keypath,this),this.registered=!1,b=!0),this.keypath=a,void 0!=a&&(c=this.root.viewmodel.get(a),this.root.viewmodel.register(a,this),this.registered=!0),this.setValue(c),void(b&&(d=this.twowayBinding)&&d.rebound()))}function Pd(a,b){this.fragments&&this.fragments.forEach(function(c){return c.rebind(a,b)}),this.resolver&&this.resolver.rebind(a,b)}function Qd(){this.parentFragment.bubble()}function Rd(){var a;return 1===this.fragments.length?this.fragments[0].detach():(a=document.createDocumentFragment(),this.fragments.forEach(function(b){a.appendChild(b.detach())}),a)}function Sd(a){var b,c,d;for(c=this.fragments.length,b=0;c>b;b+=1)if(d=this.fragments[b].find(a))return d;return null}function Td(a,b){var c,d;for(d=this.fragments.length,c=0;d>c;c+=1)this.fragments[c].findAll(a,b)}function Ud(a,b){var c,d;for(d=this.fragments.length,c=0;d>c;c+=1)this.fragments[c].findAllComponents(a,b)}function Vd(a){var b,c,d;for(c=this.fragments.length,b=0;c>b;b+=1)if(d=this.fragments[b].findComponent(a))return d;return null}function Wd(a){return this.fragments[a.index+1]?this.fragments[a.index+1].firstNode():this.parentFragment.findNextNode(this)}function Xd(){var a,b,c;if(a=this.fragments.length)for(b=0;a>b;b+=1)if(c=this.fragments[b].firstNode())return c;return this.parentFragment.findNextNode(this)}function Yd(a){var b,c,d,e,f,g,h,i=this;if(!this.shuffling&&!this.unbound&&this.currentSubtype===Dl){if(this.shuffling=!0,rj.scheduleTask(function(){return i.shuffling=!1}),b=this.parentFragment,f=[],a.forEach(function(a,b){var d,e,g,h,j;return a===b?void(f[a]=i.fragments[b]):(d=i.fragments[b],void 0===c&&(c=b),-1===a?(i.fragmentsToUnrender.push(d),void d.unbind()):(e=a-b,g=i.keypath.join(b),h=i.keypath.join(a),d.index=a,(j=d.registeredIndexRefs)&&j.forEach(Zd),d.rebind(g,h),void(f[a]=d)))}),e=this.root.viewmodel.get(this.keypath).length,void 0===c){if(this.length===e)return;c=this.length}for(this.length=this.fragments.length=e,this.rendered&&rj.addView(this),g={template:this.template.f,root:this.root,owner:this},d=c;e>d;d+=1)h=f[d],h||this.fragmentsToCreate.push(d),this.fragments[d]=h}}function Zd(a){a.rebind("","")}function $d(){var a=this;return this.docFrag=document.createDocumentFragment(),this.fragments.forEach(function(b){return a.docFrag.appendChild(b.render())}),this.renderedFragments=this.fragments.slice(),this.fragmentsToRender=[],this.rendered=!0,this.docFrag}function _d(a){var b,c,d=this;this.updating||(this.updating=!0,this.keypath&&(b=this.root.viewmodel.wrapped[this.keypath.str])&&(a=b.get()),this.fragmentsToCreate.length?(c={template:this.template.f||[],root:this.root,pElement:this.pElement,owner:this},this.fragmentsToCreate.forEach(function(a){var b;c.context=d.keypath.join(a),c.index=a,b=new vu(c),d.fragmentsToRender.push(d.fragments[a]=b)}),this.fragmentsToCreate.length=0):be(this,a)&&(this.bubble(),this.rendered&&rj.addView(this)),this.value=a,this.updating=!1)}function ae(a,b,c){if(b===Dl&&a.indexRefs&&a.indexRefs[0]){var d=a.indexRefs[0];(c&&"i"===d.t||!c&&"k"===d.t)&&(c||(a.length=0,a.fragmentsToUnrender=a.fragments.slice(0),a.fragmentsToUnrender.forEach(function(a){return a.unbind()}))),d.t=c?"k":"i"}a.currentSubtype=b}function be(a,b){var c={template:a.template.f||[],root:a.root,pElement:a.parentFragment.pElement,owner:a};if(a.hasContext=!0,a.subtype)switch(a.subtype){case Bl:return a.hasContext=!1,ge(a,b,!1,c);case Cl:return a.hasContext=!1,ge(a,b,!0,c);case El:return fe(a,c);case Fl:return ee(a,b,c);case Dl:if(j(b))return ae(a,a.subtype,!0),de(a,b,c)}return a.ordered=!!g(b),a.ordered?(ae(a,Dl,!1),ce(a,b,c)):j(b)||"function"==typeof b?a.template.i?(ae(a,Dl,!0),de(a,b,c)):(ae(a,El,!1),fe(a,c)):(ae(a,Bl,!1),a.hasContext=!1,ge(a,b,!1,c))}function ce(a,b,c){var d,e,f;if(e=b.length,e===a.length)return!1;if(e<a.length)a.fragmentsToUnrender=a.fragments.splice(e,a.length-e),a.fragmentsToUnrender.forEach(V);else if(e>a.length)for(d=a.length;e>d;d+=1)c.context=a.keypath.join(d),c.index=d,f=new vu(c),a.fragmentsToRender.push(a.fragments[d]=f);return a.length=e,!0}function de(a,b,c){var d,e,f,g,h,i;for(f=a.hasKey||(a.hasKey={}),e=a.fragments.length;e--;)g=a.fragments[e],g.key in b||(h=!0,g.unbind(),a.fragmentsToUnrender.push(g),a.fragments.splice(e,1),f[g.key]=!1);for(e=a.fragments.length;e--;)g=a.fragments[e],g.index!==e&&(g.index=e,(i=g.registeredIndexRefs)&&i.forEach(je));e=a.fragments.length;for(d in b)f[d]||(h=!0,c.context=a.keypath.join(d),c.key=d,c.index=e++,g=new vu(c),a.fragmentsToRender.push(g),a.fragments.push(g),f[d]=!0);return a.length=a.fragments.length,h}function ee(a,b,c){return b?fe(a,c):he(a)}function fe(a,b){var c;return a.length?void 0:(b.context=a.keypath,b.index=0,c=new vu(b),a.fragmentsToRender.push(a.fragments[0]=c),a.length=1,!0)}function ge(a,b,c,d){var e,f,h,i,k;if(f=g(b)&&0===b.length,h=!1,!g(b)&&j(b)){h=!0;for(k in b){h=!1;break}}return e=c?f||h||!b:b&&!f&&!h,e?a.length?a.length>1?(a.fragmentsToUnrender=a.fragments.splice(1),a.fragmentsToUnrender.forEach(V),!0):void 0:(d.index=0,i=new vu(d),a.fragmentsToRender.push(a.fragments[0]=i),a.length=1,!0):he(a)}function he(a){return a.length?(a.fragmentsToUnrender=a.fragments.splice(0,a.fragments.length).filter(ie),a.fragmentsToUnrender.forEach(V),a.length=a.fragmentsToRender.length=0,!0):void 0}function ie(a){return a.rendered}function je(a){a.rebind("","")}function ke(a){var b,c,d;for(b="",c=0,d=this.length,c=0;d>c;c+=1)b+=this.fragments[c].toString(a);return b}function le(){var a=this;this.fragments.forEach(V),this.fragmentsToRender.forEach(function(b){return K(a.fragments,b)}),this.fragmentsToRender=[],Mo.call(this),this.length=0,this.unbound=!0}function me(a){this.fragments.forEach(a?ne:oe),this.renderedFragments=[],this.rendered=!1}function ne(a){a.unrender(!0)}function oe(a){a.unrender(!1)}function pe(){var a,b,c,d,e,f,g;for(c=this.renderedFragments;a=this.fragmentsToUnrender.pop();)a.unrender(!0),c.splice(c.indexOf(a),1);for(;a=this.fragmentsToRender.shift();)a.render();for(this.rendered&&(e=this.parentFragment.getNode()),g=this.fragments.length,f=0;g>f;f+=1)a=this.fragments[f],b=c.indexOf(a,f),b!==f?(this.docFrag.appendChild(a.detach()),-1!==b&&c.splice(b,1),c.splice(f,0,a)):this.docFrag.childNodes.length&&(d=a.firstNode(),e.insertBefore(this.docFrag,d));this.rendered&&this.docFrag.childNodes.length&&(d=this.parentFragment.findNextNode(this),e.insertBefore(this.docFrag,d)),this.renderedFragments=this.fragments.slice()}function qe(){var a,b;if(this.docFrag){for(a=this.nodes.length,b=0;a>b;b+=1)this.docFrag.appendChild(this.nodes[b]);return this.docFrag}}function re(a){var b,c,d,e;for(c=this.nodes.length,b=0;c>b;b+=1)if(d=this.nodes[b],1===d.nodeType){if(li(d,a))return d;if(e=d.querySelector(a))return e}return null}function se(a,b){var c,d,e,f,g,h;for(d=this.nodes.length,c=0;d>c;c+=1)if(e=this.nodes[c],1===e.nodeType&&(li(e,a)&&b.push(e),f=e.querySelectorAll(a)))for(g=f.length,h=0;g>h;h+=1)b.push(f[h])}function te(){return this.rendered&&this.nodes[0]?this.nodes[0]:this.parentFragment.findNextNode(this)}function ue(a){return Ip[a]||(Ip[a]=ki(a))}function ve(a){var b,c,d;a&&"select"===a.name&&a.binding&&(b=L(a.node.options).filter(we),a.getAttribute("multiple")?d=b.map(function(a){return a.value}):(c=b[0])&&(d=c.value),void 0!==d&&a.binding.setValue(d),a.bubble())}function we(a){return a.selected}function xe(){if(this.rendered)throw new Error("Attempted to render an item that was already rendered");return this.docFrag=document.createDocumentFragment(),this.nodes=Jp(this.value,this.parentFragment.getNode(),this.docFrag),Kp(this.pElement),this.rendered=!0,this.docFrag}function ye(a){var b;(b=this.root.viewmodel.wrapped[this.keypath.str])&&(a=b.get()),a!==this.value&&(this.value=a,this.parentFragment.bubble(),this.rendered&&rj.addView(this))}function ze(){return void 0!=this.value?yc(""+this.value):""}function Ae(a){this.rendered&&a&&(this.nodes.forEach(b),this.rendered=!1)}function Be(){var a,b;if(this.rendered){for(;this.nodes&&this.nodes.length;)a=this.nodes.pop(),a.parentNode.removeChild(a);b=this.parentFragment.getNode(),this.nodes=Jp(this.value,b,this.docFrag),b.insertBefore(this.docFrag,this.parentFragment.findNextNode(this)),Kp(this.pElement)}}function Ce(){var a,b=this.node;return b?((a=b.parentNode)&&a.removeChild(b),b):void 0}function De(){return null}function Ee(){return this.node}function Fe(a){return this.attributes&&this.attributes[a]?this.attributes[a].value:void 0}function Ge(){var a=this.useProperty||!this.rendered?this.fragment.getValue():this.fragment.toString();h(a,this.value)||("id"===this.name&&this.value&&delete this.root.nodes[this.value],this.value=a,"value"===this.name&&this.node&&(this.node._ractive.value=a),this.rendered&&rj.addView(this))}function He(a){var b=a.fragment.items;if(1===b.length)return b[0].type===Yk?b[0]:void 0}function Ie(a){return this.type=fl,this.element=a.element,this.root=a.root,iq(this,a.name),this.isBoolean=um.test(this.name),a.value&&"string"!=typeof a.value?(this.parentFragment=this.element.parentFragment,this.fragment=new vu({template:a.value,root:this.root,owner:this}),this.value=this.fragment.getValue(),this.interpolator=jq(this),this.isBindable=!!this.interpolator&&!this.interpolator.isStatic,void(this.ready=!0)):void(this.value=this.isBoolean?!0:a.value||"")}function Je(a,b){this.fragment&&this.fragment.rebind(a,b)}function Ke(a){var b;this.node=a,a.namespaceURI&&a.namespaceURI!==ci.html||(b=nq[this.name]||this.name,void 0!==a[b]&&(this.propertyName=b),(this.isBoolean||this.isTwoway)&&(this.useProperty=!0),"value"===b&&(a._ractive.value=this.value)),this.rendered=!0,this.update()}function Le(){var a=this,b=a.name,c=a.namespacePrefix,d=a.value,e=a.interpolator,f=a.fragment;if(("value"!==b||"select"!==this.element.name&&"textarea"!==this.element.name)&&("value"!==b||void 0===this.element.getAttribute("contenteditable"))){if("name"===b&&"input"===this.element.name&&e)return"name={{"+(e.keypath.str||e.ref)+"}}";if(this.isBoolean)return d?b:"";if(f){if(1===f.items.length&&null==f.items[0].value)return"";d=f.toString()}return c&&(b=c+":"+b),d?b+'="'+Me(d)+'"':b}}function Me(a){return a.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function Ne(){this.fragment&&this.fragment.unbind(),"id"===this.name&&delete this.root.nodes[this.value]}function Oe(){var a,b,c,d,e=this.value;if(!this.locked)for(this.node._ractive.value=e,a=this.node.options,d=a.length;d--;)if(b=a[d],c=b._ractive?b._ractive.value:b.value,c==e){b.selected=!0;break}}function Pe(){var a,b,c,d,e=this.value;for(f(e)||(e=[e]),a=this.node.options,b=a.length;b--;)c=a[b],d=c._ractive?c._ractive.value:c.value,c.selected=G(e,d)}function Qe(){var a=this,b=a.node,c=a.value;b.checked=c==b._ractive.value}function Re(){var a,b,c,d,e=this.node;if(a=e.checked,e.value=this.element.getAttribute("value"),e.checked=this.element.getAttribute("value")===this.element.getAttribute("name"),a&&!e.checked&&this.element.binding&&(c=this.element.binding.siblings,d=c.length)){for(;d--;){if(b=c[d],!b.element.node)return;if(b.element.node.checked)return rj.addRactive(b.root),b.handleChange()}this.root.viewmodel.set(b.keypath,void 0)}}function Se(){var a,b,c=this,d=c.element,e=c.node,g=c.value,h=d.binding;if(a=d.getAttribute("value"),f(g)){for(b=g.length;b--;)if(a==g[b])return void(h.isChecked=e.checked=!0);h.isChecked=e.checked=!1}else h.isChecked=e.checked=g==a}function Te(){this.node.className=c(this.value)}function Ue(){var a=this,b=a.node,c=a.value;this.root.nodes[c]=b,b.id=c}function Ve(){var a,b;a=this.node,b=this.value,void 0===b&&(b=""),a.style.setAttribute("cssText",b)}function We(){var a=this.value;void 0===a&&(a=""),this.locked||(this.node.innerHTML=a)}function Xe(){var a=this,b=a.node,c=a.value;b._ractive.value=c,this.locked||(b.value=void 0==c?"":c)}function Ye(){this.locked||(this.node[this.propertyName]=this.value)}function Ze(){var a=this,b=a.node,c=a.namespace,d=a.name,e=a.value,f=a.fragment;c?b.setAttributeNS(c,d,(f||e).toString()):this.isBoolean?e?b.setAttribute(d,""):b.removeAttribute(d):null==e?b.removeAttribute(d):b.setAttribute(d,(f||e).toString())}function $e(){var a,b,c=this,d=c.name,e=c.element,f=c.node;"id"===d?b=wq:"value"===d?"select"===e.name&&"value"===d?b=e.getAttribute("multiple")?rq:qq:"textarea"===e.name?b=zq:null!=e.getAttribute("contenteditable")?b=yq:"input"===e.name&&(a=e.getAttribute("type"),b="file"===a?wi:"radio"===a&&e.binding&&"name"===e.binding.name?tq:zq):this.isTwoway&&"name"===d?"radio"===f.type?b=sq:"checkbox"===f.type&&(b=uq):"style"===d&&f.style.setAttribute?b=xq:"class"!==d||f.namespaceURI&&f.namespaceURI!==ci.html?this.useProperty&&(b=Aq):b=vq,b||(b=Bq),this.update=b,this.update()}function _e(a,b){var c=b?"svg":"div";return Eq.innerHTML="<"+c+" "+a+"></"+c+">",L(Eq.childNodes[0].attributes)}function af(a,b){for(var c=a.length;c--;)if(a[c].name===b.name)return!1;return!0}function bf(a){for(;a=a.parent;)if("form"===a.name)return a}function cf(){this._ractive.binding.handleChange()}function df(a,b,c){var d=a+b+c;return Rq[d]||(Rq[d]=[])}function ef(a){return a.isChecked}function ff(a){return a.element.getAttribute("value")}function gf(){var a;Nq.call(this),a=this._ractive.root.viewmodel.get(this._ractive.binding.keypath),this.value=void 0==a?"":a}function hf(){var a=this._ractive.binding,b=this;a._timeout&&clearTimeout(a._timeout),a._timeout=setTimeout(function(){a.rendered&&Nq.call(b),a._timeout=void 0},a.element.lazy)}function jf(a){var b,c,d,e,f,g=a.attributes;return a.binding&&(a.binding.teardown(),a.binding=null),(a.getAttribute("contenteditable")||g.contenteditable&&kf(g.contenteditable))&&kf(g.value)?c=Pq:"input"===a.name?(b=a.getAttribute("type"),"radio"===b||"checkbox"===b?(d=kf(g.name),e=kf(g.checked),d&&e&&p("A radio input can have two-way binding on its name attribute, or its checked attribute - not both",{ractive:a.root}),d?c="radio"===b?Vq:Xq:e&&(c="radio"===b?Tq:Zq)):"file"===b&&kf(g.value)?c=dr:kf(g.value)&&(c="number"===b||"range"===b?fr:er)):"select"===a.name&&kf(g.value)?c=a.getAttribute("multiple")?br:_q:"textarea"===a.name&&kf(g.value)&&(c=er),c&&(f=new c(a))&&f.keypath?f:void 0}function kf(a){return a&&a.isBindable}function lf(){var a=this.getAction();a&&!this.hasListener?this.listen():!a&&this.hasListener&&this.unrender()}function mf(a){Rj(this.root,this.getAction(),{event:a})}function nf(){return this.action.toString().trim()}function of(a,b,c){var d,e,f,g=this;this.element=a,this.root=a.root,this.parentFragment=a.parentFragment,this.name=b,-1!==b.indexOf("*")&&(l('Only component proxy-events may contain "*" wildcards, <%s on-%s="..."/> is not valid',a.name,b),this.invalid=!0),c.m?(e=c.a.r,this.method=c.m,this.keypaths=[],this.fn=Yo(c.a.s,e.length),this.parentFragment=a.parentFragment,f=this.root,this.refResolvers=[],e.forEach(function(a,b){var c=void 0;(c=lr.exec(a))?g.keypaths[b]={eventObject:!0,refinements:c[1]?c[1].split("."):[]}:g.refResolvers.push(Xo(g,a,function(a){return g.resolve(b,a)}))}),this.fire=pf):(d=c.n||c,"string"!=typeof d&&(d=new vu({template:d,root:this.root,owner:this})),this.action=d,c.d?(this.dynamicParams=new vu({template:c.d,root:this.root,owner:this.element}),this.fire=rf):c.a&&(this.params=c.a,this.fire=qf))}function pf(a){var b,c,d;if(b=this.root,"function"!=typeof b[this.method])throw new Error('Attempted to call a non-existent method ("'+this.method+'")');c=this.keypaths.map(function(c){var d,e,f;if(void 0===c)return void 0;if(c.eventObject){if(d=a,e=c.refinements.length)for(f=0;e>f;f+=1)d=d[c.refinements[f]]}else d=b.viewmodel.get(c);return d}),Qj.enqueue(b,a),d=this.fn.apply(null,c),b[this.method].apply(b,d),Qj.dequeue(b)}function qf(a){Rj(this.root,this.getAction(),{event:a,args:this.params})}function rf(a){var b=this.dynamicParams.getArgsList();"string"==typeof b&&(b=b.substr(1,b.length-2)),Rj(this.root,this.getAction(),{event:a,args:b})}function sf(a){var b,c,d,e={};b=this._ractive,c=b.events[a.type],(d=Vo(c.element.parentFragment))&&(e=Vo.resolve(d)),c.fire({node:this,original:a,index:e,keypath:b.keypath.str,context:b.root.viewmodel.get(b.keypath)})}function tf(){var a,b=this.name;if(!this.invalid){if(a=r("events",this.root,b))this.custom=a(this.node,uf(b));else{if(!("on"+b in this.node||window&&"on"+b in window||_h))return void(pr[b]||q(Li(b,"event"),{node:this.node}));this.node.addEventListener(b,mr,!1)}this.hasListener=!0}}function uf(a){return or[a]||(or[a]=function(b){var c=b.node._ractive;b.index=c.index,b.keypath=c.keypath.str,b.context=c.root.viewmodel.get(c.keypath),c.events[a].fire(b)}),or[a]}function vf(a,b){function c(c){c&&c.rebind(a,b)}var d;return this.method?(d=this.element.parentFragment,void this.refResolvers.forEach(c)):("string"!=typeof this.action&&c(this.action),void(this.dynamicParams&&c(this.dynamicParams)))}function wf(){this.node=this.element.node,this.node._ractive.events[this.name]=this,(this.method||this.getAction())&&this.listen()}function xf(a,b){this.keypaths[a]=b}function yf(){return this.method?void this.refResolvers.forEach(V):("string"!=typeof this.action&&this.action.unbind(),void(this.dynamicParams&&this.dynamicParams.unbind()))}function zf(){this.custom?this.custom.teardown():this.node.removeEventListener(this.name,mr,!1),this.hasListener=!1}function Af(){var a=this;this.dirty||(this.dirty=!0,rj.scheduleTask(function(){Bf(a),a.dirty=!1})),this.parentFragment.bubble()}function Bf(a){var b,c,d,e,f;b=a.node,b&&(e=L(b.options),c=a.getAttribute("value"),d=a.getAttribute("multiple"),void 0!==c?(e.forEach(function(a){var b,e;b=a._ractive?a._ractive.value:a.value,e=d?Cf(c,b):c==b,e&&(f=!0),a.selected=e}),f||(e[0]&&(e[0].selected=!0),a.binding&&a.binding.forceUpdate())):a.binding&&a.binding.forceUpdate())}function Cf(a,b){for(var c=a.length;c--;)if(a[c]==b)return!0}function Df(a,b){a.select=Ff(a.parent),a.select&&(a.select.options.push(a),b.a||(b.a={}),void 0!==b.a.value||b.a.hasOwnProperty("disabled")||(b.a.value=b.f),"selected"in b.a&&void 0!==a.select.getAttribute("value")&&delete b.a.selected)}function Ef(a){a.select&&K(a.select.options,a)}function Ff(a){if(a)do if("select"===a.name)return a;while(a=a.parent)}function Gf(a){var b,c,d,e,f,g,h;this.type=bl,b=this.parentFragment=a.parentFragment,c=this.template=a.template,this.parent=a.pElement||b.pElement,this.root=d=b.root,this.index=a.index,this.key=a.key,this.name=hq(c.e),"option"===this.name&&Df(this,c),"select"===this.name&&(this.options=[],this.bubble=Af),"form"===this.name&&(this.formBindings=[]),h=fq(this,c),this.attributes=Gq(this,c.a),this.conditionalAttributes=Jq(this,c.m),c.f&&(this.fragment=new vu({template:c.f,root:d,owner:this,pElement:this,cssIds:null})),g=d.twoway,h.twoway===!1?g=!1:h.twoway===!0&&(g=!0),this.twoway=g,this.lazy=h.lazy,g&&(e=gr(this,c.a))&&(this.binding=e,f=this.root._twowayBindings[e.keypath.str]||(this.root._twowayBindings[e.keypath.str]=[]),f.push(e)),c.v&&(this.eventHandlers=xr(this,c.v)),c.o&&(this.decorator=new Cr(this,c.o)),this.intro=c.t0||c.t1,this.outro=c.t0||c.t2}function Hf(a,b){function c(c){c.rebind(a,b)}var d,e,f,g;if(this.attributes&&this.attributes.forEach(c),this.conditionalAttributes&&this.conditionalAttributes.forEach(c),this.eventHandlers&&this.eventHandlers.forEach(c),this.decorator&&c(this.decorator),this.fragment&&c(this.fragment),f=this.liveQueries)for(g=this.root,d=f.length;d--;)f[d]._makeDirty();this.node&&(e=this.node._ractive)&&w(e,"keypath",a,b)}function If(a){var b;(a.attributes.width||a.attributes.height)&&a.node.addEventListener("load",b=function(){var c=a.getAttribute("width"),d=a.getAttribute("height");void 0!==c&&a.node.setAttribute("width",c),void 0!==d&&a.node.setAttribute("height",d),a.node.removeEventListener("load",b,!1)},!1)}function Jf(a){a.node.addEventListener("reset",Lf,!1)}function Kf(a){a.node.removeEventListener("reset",Lf,!1)}function Lf(){var a=this._ractive.proxy;rj.start(),a.formBindings.forEach(Mf),rj.end()}function Mf(a){a.root.viewmodel.set(a.keypath,a.resetValue)}function Nf(a,b,c){var d,e,f;this.element=a,this.root=d=a.root,this.isIntro=c,e=b.n||b,("string"==typeof e||(f=new vu({template:e,root:d,owner:a}),e=f.toString(),f.unbind(),""!==e))&&(this.name=e,b.a?this.params=b.a:b.d&&(f=new vu({template:b.d,root:d,owner:a}),this.params=f.getArgsList(),f.unbind()),this._fn=r("transitions",d,e),this._fn||q(Li(e,"transition"),{ractive:this.root}))}function Of(a){return a}function Pf(){es.hidden=document[as]}function Qf(){es.hidden=!0}function Rf(){es.hidden=!1}function Sf(){var a,b,c,d=this;return a=this.node=this.element.node,b=a.getAttribute("style"),this.complete=function(e){c||(!e&&d.isIntro&&Tf(a,b),a._ractive.transition=null,d._manager.remove(d),c=!0)},this._fn?void this._fn.apply(this.root,[this].concat(this.params)):void this.complete()}function Tf(a,b){b?a.setAttribute("style",b):(a.getAttribute("style"),a.removeAttribute("style"))}function Uf(){var a,b,c,d=this,e=this.root;return a=Vf(this),b=this.node=ki(this.name,a),this.parentFragment.cssIds&&this.node.setAttribute("data-ractive-css",this.parentFragment.cssIds.map(function(a){return"{"+a+"}"}).join(" ")),yi(this.node,"_ractive",{value:{proxy:this,keypath:jj(this.parentFragment),events:xi(null),root:e}}),this.attributes.forEach(function(a){return a.render(b)}),this.conditionalAttributes.forEach(function(a){return a.render(b)}),this.fragment&&("script"===this.name?(this.bubble=ps,this.node.text=this.fragment.toString(!1),this.fragment.unrender=wi):"style"===this.name?(this.bubble=os,this.bubble(),this.fragment.unrender=wi):this.binding&&this.getAttribute("contenteditable")?this.fragment.unrender=wi:this.node.appendChild(this.fragment.render())),this.binding&&(this.binding.render(),this.node._ractive.binding=this.binding),this.eventHandlers&&this.eventHandlers.forEach(function(a){return a.render()}),"option"===this.name&&Wf(this),"img"===this.name?If(this):"form"===this.name?Jf(this):"input"===this.name||"textarea"===this.name?this.node.defaultValue=this.node.value:"option"===this.name&&(this.node.defaultSelected=this.node.selected),this.decorator&&this.decorator.fn&&rj.scheduleTask(function(){d.decorator.torndown||d.decorator.init()},!0),e.transitionsEnabled&&this.intro&&(c=new qs(this,this.intro,!0),rj.registerTransition(c),rj.scheduleTask(function(){return c.start()},!0),this.transition=c),this.node.autofocus&&rj.scheduleTask(function(){return d.node.focus()},!0),Xf(this),this.node}function Vf(a){var b,c,d;return b=(c=a.getAttribute("xmlns"))?c:"svg"===a.name?ci.svg:(d=a.parent)?"foreignObject"===d.name?ci.html:d.node.namespaceURI:a.root.el.namespaceURI}function Wf(a){var b,c,d;if(a.select&&(c=a.select.getAttribute("value"),void 0!==c))if(b=a.getAttribute("value"),a.select.node.multiple&&f(c)){for(d=c.length;d--;)if(b==c[d]){a.node.selected=!0;break}}else a.node.selected=b==c}function Xf(a){var b,c,d,e,f;b=a.root;do for(c=b._liveQueries,d=c.length;d--;)e=c[d],f=c["_"+e],f._test(a)&&(a.liveQueries||(a.liveQueries=[])).push(f);while(b=b.parent)}function Yf(a){var b,c,d;if(b=a.getAttribute("value"),void 0===b||!a.select)return!1;if(c=a.select.getAttribute("value"),c==b)return!0;if(a.select.getAttribute("multiple")&&f(c))for(d=c.length;d--;)if(c[d]==b)return!0}function Zf(a){var b,c,d,e;return b=a.attributes,c=b.type,d=b.value,e=b.name,c&&"radio"===c.value&&d&&e.interpolator?d.value===e.interpolator.value?!0:void 0:void 0}function $f(a){var b=a.toString();return b?" "+b:""}function _f(){this.fragment&&this.fragment.unbind(),this.binding&&this.binding.unbind(),this.eventHandlers&&this.eventHandlers.forEach(V),"option"===this.name&&Ef(this),this.attributes.forEach(V),this.conditionalAttributes.forEach(V)}function ag(a){var b,c,d;(d=this.transition)&&d.complete(),"option"===this.name?this.detach():a&&rj.detachWhenReady(this),this.fragment&&this.fragment.unrender(!1),(b=this.binding)&&(this.binding.unrender(),this.node._ractive.binding=null,c=this.root._twowayBindings[b.keypath.str],c.splice(c.indexOf(b),1)),this.eventHandlers&&this.eventHandlers.forEach(W),this.decorator&&rj.registerDecorator(this.decorator),this.root.transitionsEnabled&&this.outro&&(d=new qs(this,this.outro,!1),rj.registerTransition(d),rj.scheduleTask(function(){return d.start()})),this.liveQueries&&bg(this),"form"===this.name&&Kf(this)}function bg(a){var b,c,d;for(d=a.liveQueries.length;d--;)b=a.liveQueries[d],c=b.selector,b._remove(a.node)}function cg(a,b){var c=ys.exec(b)[0];return null===a||c.length<a.length?c:a}function dg(a,b,c){var d;if(d=eg(a,b,c||{}))return d;if(d=ko.fromId(b,{noThrow:!0})){d=zs(d);var e=ko.parse(d,ko.getParseOptions(a));return a.partials[b]=e.t}}function eg(a,b,c){var d=void 0,e=hg(b,c.owner);if(e)return e;
var f=s("partials",a,b);if(f){if(e=f.partials[b],"function"==typeof e&&(d=e.bind(f),d.isOwner=f.partials.hasOwnProperty(b),e=d.call(a,ko)),!e&&""!==e)return void p(Ki,b,"partial","partial",{ractive:a});if(!ko.isParsed(e)){var g=ko.parse(e,ko.getParseOptions(f));g.p&&p("Partials ({{>%s}}) cannot contain nested inline partials",b,{ractive:a});var h=d?f:fg(f,b);h.partials[b]=e=g.t}return d&&(e._fn=d),e.v?e.t:e}}function fg(a,b){return a.partials.hasOwnProperty(b)?a:gg(a.constructor,b)}function gg(a,b){return a?a.partials.hasOwnProperty(b)?a:gg(a._Parent,b):void 0}function hg(a,b){if(b){if(b.template&&b.template.p&&b.template.p[a])return b.template.p[a];if(b.parentFragment&&b.parentFragment.owner)return hg(a,b.parentFragment.owner)}}function ig(a,b){var c,d=s("components",a,b);if(d&&(c=d.components[b],!c._Parent)){var e=c.bind(d);if(e.isOwner=d.components.hasOwnProperty(b),c=e(),!c)return void p(Ki,b,"component","component",{ractive:a});"string"==typeof c&&(c=ig(a,c)),c._fn=e,d.components[b]=c}return c}function jg(){var a=this.instance.fragment.detach();return Ks.fire(this.instance),a}function kg(a){return this.instance.fragment.find(a)}function lg(a,b){return this.instance.fragment.findAll(a,b)}function mg(a,b){b._test(this,!0),this.instance.fragment&&this.instance.fragment.findAllComponents(a,b)}function ng(a){return a&&a!==this.name?this.instance.fragment?this.instance.fragment.findComponent(a):null:this.instance}function og(){return this.parentFragment.findNextNode(this)}function pg(){return this.rendered?this.instance.fragment.firstNode():null}function qg(a,b,c){function d(a){var c,d;a.value=b,a.updating||(d=a.ractive,c=a.keypath,a.updating=!0,rj.start(d),d.viewmodel.mark(c),rj.end(),a.updating=!1)}var e,f,g,h,i,j;if(e=a.obj,f=a.prop,c&&!c.configurable){if("length"===f)return;throw new Error('Cannot use magic mode with property "'+f+'" - object is not configurable')}c&&(g=c.get,h=c.set),i=g||function(){return b},j=function(a){h&&h(a),b=g?g():a,j._ractiveWrappers.forEach(d)},j._ractiveWrappers=[a],Object.defineProperty(e,f,{get:i,set:j,enumerable:!0,configurable:!0})}function rg(a,b){var c,d,e,f;if(this.adaptors)for(c=this.adaptors.length,d=0;c>d;d+=1)if(e=this.adaptors[d],e.filter(b,a,this.ractive))return f=this.wrapped[a]=e.wrap(this.ractive,b,a,tg(a)),void(f.value=b)}function sg(a,b){var c,d={};if(!b)return a;b+=".";for(c in a)a.hasOwnProperty(c)&&(d[b+c]=a[c]);return d}function tg(a){var b;return gt[a]||(b=a?a+".":"",gt[a]=function(c,d){var e;return"string"==typeof c?(e={},e[b+c]=d,e):"object"==typeof c?b?sg(c,a):c:void 0}),gt[a]}function ug(a){var b,c,d=[Xi];for(b=a.length;b--;)for(c=a[b].parent;c&&!c.isRoot;)-1===a.indexOf(c)&&F(d,c),c=c.parent;return d}function vg(a,b,c){var d;xg(a,b),c||(d=b.wildcardMatches(),d.forEach(function(c){wg(a,c,b)}))}function wg(a,b,c){var d,e,f;b=b.str||b,d=a.depsMap.patternObservers,e=d&&d[b],e&&e.forEach(function(b){f=c.join(b.lastKey),xg(a,f),wg(a,b,f)})}function xg(a,b){a.patternObservers.forEach(function(a){a.regex.test(b.str)&&a.update(b)})}function yg(){function a(a){var d=a.key;a.viewmodel===g?(g.clearCache(d.str),a.invalidate(),c.push(d),b(d)):a.viewmodel.mark(d)}function b(c){var d,e;g.noCascade.hasOwnProperty(c.str)||((e=g.deps.computed[c.str])&&e.forEach(a),(d=g.depsMap.computed[c.str])&&d.forEach(b))}var c,d,e,f=this,g=this,h={};return c=this.changes,c.length?(c.slice().forEach(b),d=ht(c),d.forEach(function(b){var d;-1===c.indexOf(b)&&(d=g.deps.computed[b.str])&&d.forEach(a)}),this.changes=[],this.patternObservers.length&&(d.forEach(function(a){return it(f,a,!0)}),c.forEach(function(a){return it(f,a)})),this.deps.observers&&(d.forEach(function(a){return zg(f,null,a,"observers")}),Bg(this,c,"observers")),this.deps["default"]&&(e=[],d.forEach(function(a){return zg(f,e,a,"default")}),e.length&&Ag(this,e,c),Bg(this,c,"default")),c.forEach(function(a){h[a.str]=f.get(a)}),this.implicitChanges={},this.noCascade={},h):void 0}function zg(a,b,c,d){var e,f;(e=Cg(a,c,d))&&(f=a.get(c),e.forEach(function(a){b&&a.refineValue?b.push(a):a.setValue(f)}))}function Ag(a,b,c){b.forEach(function(b){for(var d=!1,e=0,f=c.length,g=[];f>e;){var h=c[e];if(h===b.keypath){d=!0;break}h.slice(0,b.keypath.length)===b.keypath&&g.push(h),e++}d&&b.setValue(a.get(b.keypath)),g.length&&b.refineValue(g)})}function Bg(a,b,c){function d(a){a.forEach(e),a.forEach(f)}function e(b){var d=Cg(a,b,c);d&&h.push({keypath:b,deps:d})}function f(b){var e;(e=a.depsMap[c][b.str])&&d(e)}function g(b){var c=a.get(b.keypath);b.deps.forEach(function(a){return a.setValue(c)})}var h=[];d(b),h.forEach(g)}function Cg(a,b,c){var d=a.deps[c];return d?d[b.str]:null}function Dg(){this.captureGroups.push([])}function Eg(a,b){var c,d;if(b||(d=this.wrapped[a])&&d.teardown()!==!1&&(this.wrapped[a]=null),this.cache[a]=void 0,c=this.cacheMap[a])for(;c.length;)this.clearCache(c.pop())}function Fg(a,b){var c=b.firstKey;return!(c in a.data||c in a.computations||c in a.mappings)}function Gg(a,b){var c=new pt(a,b);return this.ready&&c.init(this),this.computations[a.str]=c}function Hg(a,b){var c,d,e,f,g,h=this.cache,i=a.str;if(b=b||tt,b.capture&&(f=J(this.captureGroups))&&(~f.indexOf(a)||f.push(a)),Fi.call(this.mappings,a.firstKey))return this.mappings[a.firstKey].get(a,b);if(a.isSpecial)return a.value;if(void 0===h[i]?((d=this.computations[i])&&!d.bypass?(c=d.get(),this.adapt(i,c)):(e=this.wrapped[i])?c=e.value:a.isRoot?(this.adapt("",this.data),c=this.data):c=Ig(this,a),h[i]=c):c=h[i],!b.noUnwrap&&(e=this.wrapped[i])&&(c=e.get()),a.isRoot&&b.fullRootGet)for(g in this.mappings)c[g]=this.mappings[g].getValue();return c===rt?void 0:c}function Ig(a,b){var c,d,e,f;return c=a.get(b.parent),(f=a.wrapped[b.parent.str])&&(c=f.get()),null!==c&&void 0!==c?((d=a.cacheMap[b.parent.str])?-1===d.indexOf(b.str)&&d.push(b.str):a.cacheMap[b.parent.str]=[b.str],"object"!=typeof c||b.lastKey in c?(e=c[b.lastKey],a.adapt(b.str,e,!1),a.cache[b.str]=e,e):a.cache[b.str]=rt):void 0}function Jg(){var a;for(a in this.computations)this.computations[a].init(this)}function Kg(a,b){var c=this.mappings[a.str]=new wt(a,b);return c.initViewmodel(this),c}function Lg(a,b){var c,d=a.str;b&&(b.implicit&&(this.implicitChanges[d]=!0),b.noCascade&&(this.noCascade[d]=!0)),(c=this.computations[d])&&c.invalidate(),-1===this.changes.indexOf(a)&&this.changes.push(a);var e=b?b.keepExistingWrapper:!1;this.clearCache(d,e),this.ready&&this.onchange()}function Mg(a,b,c,d){var e,f,g,h;if(this.mark(a),d&&d.compare){g=Og(d.compare);try{e=b.map(g),f=c.map(g)}catch(i){p('merge(): "%s" comparison failed. Falling back to identity checking',a),e=b,f=c}}else e=b,f=c;h=yt(e,f),this.smartUpdate(a,c,h,b.length!==c.length)}function Ng(a){return JSON.stringify(a)}function Og(a){if(a===!0)return Ng;if("string"==typeof a)return At[a]||(At[a]=function(b){return b[a]}),At[a];if("function"==typeof a)return a;throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)")}function Pg(a,b){var c,d,e,f=void 0===arguments[2]?"default":arguments[2];b.isStatic||((c=this.mappings[a.firstKey])?c.register(a,b,f):(d=this.deps[f]||(this.deps[f]={}),e=d[a.str]||(d[a.str]=[]),e.push(b),this.depsMap[f]||(this.depsMap[f]={}),a.isRoot||Qg(this,a,f)))}function Qg(a,b,c){for(var d,e,f;!b.isRoot;)d=a.depsMap[c],e=d[b.parent.str]||(d[b.parent.str]=[]),f=b.str,void 0===e["_"+f]&&(e["_"+f]=0,e.push(b)),e["_"+f]+=1,b=b.parent}function Rg(){return this.captureGroups.pop()}function Sg(a){this.data=a,this.clearCache("")}function Tg(a,b){var c,d,e,f,g=void 0===arguments[2]?{}:arguments[2];if(!g.noMapping&&(c=this.mappings[a.firstKey]))return c.set(a,b);if(d=this.computations[a.str]){if(d.setting)return;d.set(b),b=d.get()}h(this.cache[a.str],b)||(e=this.wrapped[a.str],e&&e.reset&&(f=e.reset(b)!==!1,f&&(b=e.get())),d||f||Ug(this,a,b),g.silent?this.clearCache(a.str):this.mark(a))}function Ug(a,b,c){var d,e,f,g;f=function(){d.set?d.set(b.lastKey,c):(e=d.get(),g())},g=function(){e||(e=at(b.lastKey),a.set(b.parent,e,{silent:!0})),e[b.lastKey]=c},d=a.wrapped[b.parent.str],d?f():(e=a.get(b.parent),(d=a.wrapped[b.parent.str])?f():g())}function Vg(a,b,c){var d,e,f,g=this;if(e=c.length,c.forEach(function(b,c){-1===b&&g.mark(a.join(c),Ht)}),this.set(a,b,{silent:!0}),(d=this.deps["default"][a.str])&&d.filter(Wg).forEach(function(a){return a.shuffle(c,b)}),e!==b.length){for(this.mark(a.join("length"),Gt),f=c.touchedFrom;f<b.length;f+=1)this.mark(a.join(f));for(f=b.length;e>f;f+=1)this.mark(a.join(f),Ht)}}function Wg(a){return"function"==typeof a.shuffle}function Xg(){var a,b=this;for(Object.keys(this.cache).forEach(function(a){return b.clearCache(a)});a=this.unresolvedImplicitDependencies.pop();)a.teardown()}function Yg(a,b){var c,d,e,f=void 0===arguments[2]?"default":arguments[2];if(!b.isStatic){if(c=this.mappings[a.firstKey])return c.unregister(a,b,f);if(d=this.deps[f][a.str],e=d.indexOf(b),-1===e)throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks");d.splice(e,1),a.isRoot||Zg(this,a,f)}}function Zg(a,b,c){for(var d,e;!b.isRoot;)d=a.depsMap[c],e=d[b.parent.str],e["_"+b.str]-=1,e["_"+b.str]||(K(e,b),e["_"+b.str]=void 0),b=b.parent}function $g(a){this.hook=new ej(a),this.inProcess={},this.queue={}}function _g(a,b){return a[b._guid]||(a[b._guid]=[])}function ah(a,b){var c=_g(a.queue,b);for(a.hook.fire(b);c.length;)ah(a,c.shift());delete a.queue[b._guid]}function bh(a,b){var c,d={};for(c in b)d[c]=ch(a,c,b[c]);return d}function ch(a,b,c){var d,e;return"function"==typeof c&&(d=eh(c,a)),"string"==typeof c&&(d=dh(a,c)),"object"==typeof c&&("string"==typeof c.get?d=dh(a,c.get):"function"==typeof c.get?d=eh(c.get,a):l("`%s` computation must have a `get()` method",b),"function"==typeof c.set&&(e=eh(c.set,a))),{getter:d,setter:e}}function dh(a,b){var c,d,e;return c="return ("+b.replace(Ot,function(a,b){return d=!0,'__ractive.get("'+b+'")'})+");",d&&(c="var __ractive = this; "+c),e=new Function(c),d?e.bind(a):e}function eh(a,b){return/this/.test(a.toString())?a.bind(b):a}function fh(b){var c,e,f=void 0===arguments[1]?{}:arguments[1],g=void 0===arguments[2]?{}:arguments[2];if(Xu.DEBUG&&Ei(),ih(b,g),yi(b,"data",{get:jh}),Pt.fire(b,f),Tt.forEach(function(a){b[a]=d(xi(b.constructor[a]||null),f[a])}),e=new Lt({adapt:gh(b,b.adapt,f),data:Rk.init(b.constructor,b,f),computed:Nt(b,d(xi(b.constructor.prototype.computed),f.computed)),mappings:g.mappings,ractive:b,onchange:function(){return rj.addRactive(b)}}),b.viewmodel=e,e.init(),wo.init(b.constructor,b,f),Qt.fire(b),Rt.begin(b),b.template){var h=void 0;(g.cssIds||b.cssId)&&(h=g.cssIds?g.cssIds.slice():[],b.cssId&&h.push(b.cssId)),b.fragment=new vu({template:b.template,root:b,owner:b,cssIds:h})}if(Rt.end(b),c=a(b.el)){var i=b.render(c,b.append);Xu.DEBUG_PROMISES&&i["catch"](function(a){throw q("Promise debugging is enabled, to help solve errors that happen asynchronously. Some browsers will log unhandled promise rejections, in which case you can safely disable promise debugging:\n  Ractive.DEBUG_PROMISES = false;"),p("An error happened during rendering",{ractive:b}),a.stack&&m(a.stack),a})}}function gh(a,b,c){function d(b){return"string"==typeof b&&(b=r("adaptors",a,b),b||l(Li(b,"adaptor"))),b}var e,f,g;if(b=b.map(d),e=I(c.adapt).map(d),e=hh(b,e),f="magic"in c?c.magic:a.magic,g="modifyArrays"in c?c.modifyArrays:a.modifyArrays,f){if(!bi)throw new Error("Getters and setters (magic mode) are not supported in this browser");g&&e.push(et),e.push(dt)}return g&&e.push($s),e}function hh(a,b){for(var c=a.slice(),d=b.length;d--;)~c.indexOf(b[d])||c.push(b[d]);return c}function ih(a,b){a._guid="r-"+St++,a._subs=xi(null),a._config={},a._twowayBindings=xi(null),a._animations=[],a.nodes={},a._liveQueries=[],a._liveComponentQueries=[],a._boundFunctions=[],a._observers=[],b.component?(a.parent=b.parent,a.container=b.container||null,a.root=a.parent.root,a.component=b.component,b.component.instance=a,a._inlinePartials=b.inlinePartials):(a.root=a,a.parent=a.container=null)}function jh(){throw new Error("Using `ractive.data` is no longer supported - you must use the `ractive.get()` API instead")}function kh(a,b,c){this.parentFragment=a.parentFragment,this.callback=c,this.fragment=new vu({template:b,root:a.root,owner:this}),this.update()}function lh(a,b,c){var d;return b.r?d=Xo(a,b.r,c):b.x?d=new _o(a,a.parentFragment,b.x,c):b.rx&&(d=new dp(a,b.rx,c)),d}function mh(a){return 1===a.length&&a[0].t===Yk}function nh(a,b){var c;for(c in b)b.hasOwnProperty(c)&&oh(a.instance,a.root,c,b[c])}function oh(a,b,c,d){"string"!=typeof d&&l("Components currently only support simple events - you cannot include arguments. Sorry!"),a.on(c,function(){var a,c;return arguments.length&&arguments[0]&&arguments[0].node&&(a=Array.prototype.shift.call(arguments)),c=Array.prototype.slice.call(arguments),Rj(b,d,{event:a,args:c}),!1})}function ph(a,b){var c,d;if(!b)throw new Error('Component "'+this.name+'" not found');c=this.parentFragment=a.parentFragment,d=c.root,this.root=d,this.type=hl,this.name=a.template.e,this.index=a.index,this.indexRefBindings={},this.yielders={},this.resolvers=[],Wt(this,b,a.template.a,a.template.f,a.template.p),Xt(this,a.template.v),(a.template.t0||a.template.t1||a.template.t2||a.template.o)&&p('The "intro", "outro" and "decorator" directives have no effect on components',{ractive:this.instance}),Yt(this)}function qh(a,b){function c(c){c.rebind(a,b)}var d;this.resolvers.forEach(c);for(var e in this.yielders)this.yielders[e][0]&&c(this.yielders[e][0]);(d=this.root._liveComponentQueries["_"+this.name])&&d._makeDirty()}function rh(){var a=this.instance;return a.render(this.parentFragment.getNode()),this.rendered=!0,a.fragment.detach()}function sh(){return this.instance.fragment.toString()}function th(){var a=this.instance;this.resolvers.forEach(V),uh(this),a._observers.forEach(X),a.fragment.unbind(),a.viewmodel.teardown(),a.fragment.rendered&&a.el.__ractive_instances__&&K(a.el.__ractive_instances__,a),cu.fire(a)}function uh(a){var b,c;b=a.root;do(c=b._liveComponentQueries["_"+a.name])&&c._remove(a);while(b=b.parent)}function vh(a){this.shouldDestroy=a,this.instance.unrender()}function wh(a){var b=this;this.owner=a.owner,this.parent=this.owner.parentFragment,this.root=a.root,this.pElement=a.pElement,this.context=a.context,this.index=a.index,this.key=a.key,this.registeredIndexRefs=[],this.cssIds="cssIds"in a?a.cssIds:this.parent?this.parent.cssIds:null,this.items=a.template.map(function(c,d){return xh({parentFragment:b,pElement:a.pElement,template:c,index:d})}),this.value=this.argsList=null,this.dirtyArgs=this.dirtyValue=!0,this.bound=!0}function xh(a){if("string"==typeof a.template)return new Lo(a);switch(a.template.t){case il:return new ju(a);case Yk:return new jp(a);case $k:return new Dp(a);case Zk:return new Vp(a);case bl:var b=void 0;return(b=Is(a.parentFragment.root,a.template.e))?new fu(a,b):new ws(a);case cl:return new Hs(a);case dl:return new hu(a);case kl:return new lu(a);default:throw new Error("Something very strange happened. Please file an issue at https://github.com/ractivejs/ractive/issues. Thanks!")}}function yh(a,b){(!this.owner||this.owner.hasContext)&&w(this,"context",a,b),this.items.forEach(function(c){c.rebind&&c.rebind(a,b)})}function zh(){var a;return 1===this.items.length?a=this.items[0].render():(a=document.createDocumentFragment(),this.items.forEach(function(b){a.appendChild(b.render())})),this.rendered=!0,a}function Ah(a){return this.items?this.items.map(a?Ch:Bh).join(""):""}function Bh(a){return a.toString()}function Ch(a){return a.toString(!0)}function Dh(){this.bound&&(this.items.forEach(Eh),this.bound=!1)}function Eh(a){a.unbind&&a.unbind()}function Fh(a){if(!this.rendered)throw new Error("Attempted to unrender a fragment that was not rendered");this.items.forEach(function(b){return b.unrender(a)}),this.rendered=!1}function Gh(a){var b,c,d,e,f;if(a=a||{},"object"!=typeof a)throw new Error("The reset method takes either no arguments, or an object containing new data");for((c=this.viewmodel.wrapped[""])&&c.reset?c.reset(a)===!1&&this.viewmodel.reset(a):this.viewmodel.reset(a),d=wo.reset(this),e=d.length;e--;)if(xu.indexOf(d[e])>-1){f=!0;break}if(f){var g=void 0;this.viewmodel.mark(Xi),(g=this.component)&&(g.shouldDestroy=!0),this.unrender(),g&&(g.shouldDestroy=!1),this.fragment.template!==this.template&&(this.fragment.unbind(),this.fragment=new vu({template:this.template,root:this,owner:this})),b=this.render(this.el,this.anchor)}else b=rj.start(this,!0),this.viewmodel.mark(Xi),rj.end();return yu.fire(this,a),b}function Hh(a){var b,c;mo.init(null,this,{template:a}),b=this.transitionsEnabled,this.transitionsEnabled=!1,(c=this.component)&&(c.shouldDestroy=!0),this.unrender(),c&&(c.shouldDestroy=!1),this.fragment.unbind(),this.fragment=new vu({template:this.template,root:this,owner:this}),this.render(this.el,this.anchor),this.transitionsEnabled=b}function Ih(a,b){var c,d;if(d=rj.start(this,!0),j(a)){c=a;for(a in c)c.hasOwnProperty(a)&&(b=c[a],Jh(this,a,b))}else Jh(this,a,b);return rj.end(),d}function Jh(a,b,c){b=y(B(b)),b.isPattern?z(a,b).forEach(function(b){a.viewmodel.set(b,c)}):a.viewmodel.set(b,c)}function Kh(a,b){return Yi(this,a,void 0===b?-1:-b)}function Lh(){var a;return this.fragment.unbind(),this.viewmodel.teardown(),this._observers.forEach(X),this.fragment.rendered&&this.el.__ractive_instances__&&K(this.el.__ractive_instances__,this),this.shouldDestroy=!0,a=this.fragment.rendered?this.unrender():ij.resolve(),Iu.fire(this),this._boundFunctions.forEach(Mh),a}function Mh(a){delete a.fn[a.prop]}function Nh(a){var b=this;if("string"!=typeof a)throw new TypeError(Ji);var c=void 0;return/\*/.test(a)?(c={},z(this,y(B(a))).forEach(function(a){c[a.str]=!b.viewmodel.get(a)}),this.set(c)):this.set(a,!this.get(a))}function Oh(){return this.fragment.toString(!0)}function Ph(){var a,b;if(!this.fragment.rendered)return p("ractive.unrender() was called on a Ractive instance that was not rendered"),ij.resolve();for(a=rj.start(this,!0),b=!this.component||this.component.shouldDestroy||this.shouldDestroy;this._animations[0];)this._animations[0].stop();return this.fragment.unrender(b),K(this.el.__ractive_instances__,this),Mu.fire(this),rj.end(),a}function Qh(a){var b;return a=y(a)||Xi,b=rj.start(this,!0),this.viewmodel.mark(a),rj.end(),Pu.fire(this,a),b}function Rh(a,b){var c,d,e;if("string"!=typeof a||b){e=[];for(d in this._twowayBindings)(!a||y(d).equalsOrStartsWith(a))&&e.push.apply(e,this._twowayBindings[d])}else e=this._twowayBindings[a];return c=Sh(this,e),this.set(c)}function Sh(a,b){var c={},d=[];return b.forEach(function(a){var b,e;if(!a.radioName||a.element.node.checked){if(a.checkboxName)return void(d[a.keypath.str]||a.changed()||(d.push(a.keypath),d[a.keypath.str]=a));b=a.attribute.value,e=a.getValue(),H(b,e)||h(b,e)||(c[a.keypath.str]=e)}}),d.length&&d.forEach(function(a){var b,e,f;b=d[a.str],e=b.attribute.value,f=b.getValue(),H(e,f)||(c[a.str]=f)}),c}function Th(a,b){return"function"==typeof b&&/_super/.test(a)}function Uh(a){for(var b={};a;)Vh(a,b),Xh(a,b),a=a._Parent!==Xu?a._Parent:!1;return b}function Vh(a,b){to.forEach(function(c){Wh(c.useDefaults?a.prototype:a,b,c.name)})}function Wh(a,b,c){var d,e=Object.keys(a[c]);e.length&&((d=b[c])||(d=b[c]={}),e.filter(function(a){return!(a in d)}).forEach(function(b){return d[b]=a[c][b]}))}function Xh(a,b){Object.keys(a.prototype).forEach(function(c){if("computed"!==c){var d=a.prototype[c];if(c in b){if("function"==typeof b[c]&&"function"==typeof d&&b[c]._method){var e=void 0,f=d._method;f&&(d=d._method),e=Su(b[c]._method,d),f&&(e._method=e),b[c]=e}}else b[c]=d._method?d._method:d}})}function Yh(){for(var a=arguments.length,b=Array(a),c=0;a>c;c++)b[c]=arguments[c];return b.length?b.reduce(Zh,this):Zh(this)}function Zh(a){var b,c,e=void 0===arguments[1]?{}:arguments[1];return e.prototype instanceof Xu&&(e=Tu(e)),b=function(a){return this instanceof b?void Ut(this,a):new b(a)},c=xi(a.prototype),c.constructor=b,zi(b,{defaults:{value:c},extend:{value:Yh,writable:!0,configurable:!0},_Parent:{value:a}}),wo.extend(a,c,e),Rk.extend(a,c,e),e.computed&&(c.computed=d(xi(a.prototype.computed),e.computed)),b.prototype=c,b}var $h,_h,ai,bi,ci,di,ei,fi=3,gi={el:void 0,append:!1,template:{v:fi,t:[]},preserveWhitespace:!1,sanitize:!1,stripComments:!0,delimiters:["{{","}}"],tripleDelimiters:["{{{","}}}"],interpolate:!1,data:{},computed:{},magic:!1,modifyArrays:!0,adapt:[],isolated:!1,twoway:!0,lazy:!1,noIntro:!1,transitionsEnabled:!0,complete:void 0,css:null,noCssTransform:!1},hi=gi,ii={linear:function(a){return a},easeIn:function(a){return Math.pow(a,3)},easeOut:function(a){return Math.pow(a-1,3)+1},easeInOut:function(a){return(a/=.5)<1?.5*Math.pow(a,3):.5*(Math.pow(a-2,3)+2)}};$h="object"==typeof document,_h="undefined"!=typeof navigator&&/jsDom/.test(navigator.appName),ai="undefined"!=typeof console&&"function"==typeof console.warn&&"function"==typeof console.warn.apply;try{Object.defineProperty({},"test",{value:0}),bi=!0}catch(ji){bi=!1}ci={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},di="undefined"==typeof document?!1:document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),ei=["o","ms","moz","webkit"];var ki,li,mi,ni,oi,pi,qi,ri,si;if(ki=di?function(a,b){return b&&b!==ci.html?document.createElementNS(b,a):document.createElement(a)}:function(a,b){if(b&&b!==ci.html)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information";return document.createElement(a)},$h){for(mi=ki("div"),ni=["matches","matchesSelector"],si=function(a){return function(b,c){return b[a](c)}},qi=ni.length;qi--&&!li;)if(oi=ni[qi],mi[oi])li=si(oi);else for(ri=ei.length;ri--;)if(pi=ei[qi]+oi.substr(0,1).toUpperCase()+oi.substring(1),mi[pi]){li=si(pi);break}li||(li=function(a,b){var c,d,e;for(d=a.parentNode,d||(mi.innerHTML="",d=mi,a=a.cloneNode(),mi.appendChild(a)),c=d.querySelectorAll(b),e=c.length;e--;)if(c[e]===a)return!0;return!1})}else li=null;var ti,ui,vi,wi=function(){};"undefined"==typeof window?vi=null:(ti=window,ui=ti.document,vi={},ui||(vi=null),Date.now||(Date.now=function(){return+new Date}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}),Object.keys||(Object.keys=function(){var a=Object.prototype.hasOwnProperty,b=!{toString:null}.propertyIsEnumerable("toString"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=c.length;return function(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.keys called on non-object");var f=[];for(var g in e)a.call(e,g)&&f.push(g);if(b)for(var h=0;d>h;h++)a.call(e,c[h])&&f.push(c[h]);return f}}()),Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){var c;for(void 0===b&&(b=0),0>b&&(b+=this.length),0>b&&(b=0),c=this.length;c>b;b++)if(this.hasOwnProperty(b)&&this[b]===a)return b;return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(a,b){var c,d;for(c=0,d=this.length;d>c;c+=1)this.hasOwnProperty(c)&&a.call(b,this[c],c,this)}),Array.prototype.map||(Array.prototype.map=function(a,b){var c,d,e,f=this,g=[];for(f instanceof String&&(f=f.toString(),e=!0),c=0,d=f.length;d>c;c+=1)(f.hasOwnProperty(c)||e)&&(g[c]=a.call(b,f[c],c,f));return g}),"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(a,b){var c,d,e,f;if("function"!=typeof a)throw new TypeError(a+" is not a function");for(e=this.length,f=!1,arguments.length>1&&(d=b,f=!0),c=0;e>c;c+=1)this.hasOwnProperty(c)?f&&(d=a(d,this[c],c,this)):(d=this[c],f=!0);if(!f)throw new TypeError("Reduce of empty array with no initial value");return d}),Array.prototype.filter||(Array.prototype.filter=function(a,b){var c,d,e=[];for(c=0,d=this.length;d>c;c+=1)this.hasOwnProperty(c)&&a.call(b,this[c],c,this)&&(e[e.length]=this[c]);return e}),Array.prototype.every||(Array.prototype.every=function(a,b){var c,d,e;if(null==this)throw new TypeError;if(c=Object(this),d=c.length>>>0,"function"!=typeof a)throw new TypeError;for(e=0;d>e;e+=1)if(e in c&&!a.call(b,c[e],e,c))return!1;return!0}),"function"!=typeof Function.prototype.bind&&(Function.prototype.bind=function(a){var b,c,d,e,f=[].slice;if("function"!=typeof this)throw new TypeError("Function.prototype.bind called on non-function");return b=f.call(arguments,1),c=this,d=function(){},e=function(){var e=this instanceof d&&a?this:a;return c.apply(e,b.concat(f.call(arguments)))},d.prototype=this.prototype,e.prototype=new d,e}),ti.addEventListener||!function(a,b){var c,d,e,f,g,h;a.appearsToBeIELessEqual8=!0,c=function(a,b){var c,d=this;for(c in a)d[c]=a[c];d.currentTarget=b,d.target=a.srcElement||b,d.timeStamp=+new Date,d.preventDefault=function(){a.returnValue=!1},d.stopPropagation=function(){a.cancelBubble=!0}},d=function(a,b){var d,e,f=this;d=f.listeners||(f.listeners=[]),e=d.length,d[e]=[b,function(a){b.call(f,new c(a,f))}],f.attachEvent("on"+a,d[e][1])},e=function(a,b){var c,d,e=this;if(e.listeners)for(c=e.listeners,d=c.length;d--;)c[d][0]===b&&e.detachEvent("on"+a,c[d][1])},a.addEventListener=b.addEventListener=d,a.removeEventListener=b.removeEventListener=e,"Element"in a?(a.Element.prototype.addEventListener=d,a.Element.prototype.removeEventListener=e):(h=b.createElement,b.createElement=function(a){var b=h(a);return b.addEventListener=d,b.removeEventListener=e,b},f=b.getElementsByTagName("head")[0],g=b.createElement("style"),f.insertBefore(g,f.firstChild))}(ti,ui),ti.getComputedStyle||(vi.getComputedStyle=function(){function a(c,d,e,f){var g,h=d[e],i=parseFloat(h),j=h.split(/\d/)[0];return isNaN(i)&&/^thin|medium|thick$/.test(h)&&(i=b(h),j=""),f=null!=f?f:/%|em/.test(j)&&c.parentElement?a(c.parentElement,c.parentElement.currentStyle,"fontSize",null):16,g="fontSize"==e?f:/width/i.test(e)?c.clientWidth:c.clientHeight,"em"==j?i*f:"in"==j?96*i:"pt"==j?96*i/72:"%"==j?i/100*g:i}function b(a){var b,c;return f[a]||(b=document.createElement("div"),b.style.display="block",b.style.position="fixed",b.style.width=b.style.height="0",b.style.borderRight=a+" solid black",document.getElementsByTagName("body")[0].appendChild(b),c=b.getBoundingClientRect(),f[a]=c.right-c.left),f[a]}function c(a,b){var c="border"==b?"Width":"",d=b+"Top"+c,e=b+"Right"+c,f=b+"Bottom"+c,g=b+"Left"+c;a[b]=(a[d]==a[e]==a[f]==a[g]?[a[d]]:a[d]==a[f]&&a[g]==a[e]?[a[d],a[e]]:a[g]==a[e]?[a[d],a[e],a[f]]:[a[d],a[e],a[f],a[g]]).join(" ")}function d(b){var d,e,f,h;d=b.currentStyle,e=this,f=a(b,d,"fontSize",null);for(h in d)"normal"===d[h]&&g.hasOwnProperty(h)?e[h]=g[h]:/width|height|margin.|padding.|border.+W/.test(h)?"auto"===d[h]?/^width|height/.test(h)?e[h]=("width"===h?b.clientWidth:b.clientHeight)+"px":/(?:padding)?Top|Bottom$/.test(h)&&(e[h]="0px"):e[h]=a(b,d,h,f)+"px":"styleFloat"===h?e.float=d[h]:e[h]=d[h];return c(e,"margin"),c(e,"padding"),c(e,"border"),e.fontSize=f+"px",e}function e(a){return new d(a)}var f={},g={fontWeight:400,lineHeight:1.2,letterSpacing:0};return d.prototype={constructor:d,getPropertyPriority:wi,getPropertyValue:function(a){return this[a]||""},item:wi,removeProperty:wi,setProperty:wi,getPropertyCSSValue:wi},e}()));var xi,yi,zi,Ai=vi;try{Object.defineProperty({},"test",{value:0}),$h&&Object.defineProperty(document.createElement("div"),"test",{value:0}),yi=Object.defineProperty}catch(Bi){yi=function(a,b,c){a[b]=c.value}}try{try{Object.defineProperties({},{test:{value:0}})}catch(Bi){throw Bi}$h&&Object.defineProperties(ki("div"),{test:{value:0}}),zi=Object.defineProperties}catch(Bi){zi=function(a,b){var c;for(c in b)b.hasOwnProperty(c)&&yi(a,c,b[c])}}try{Object.create(null),xi=Object.create}catch(Bi){xi=function(){var a=function(){};return function(b,c){var d;return null===b?{}:(a.prototype=b,d=new a,c&&Object.defineProperties(d,c),d)}}()}var Ci,Di,Ei,Fi=Object.prototype.hasOwnProperty,Gi=Object.prototype.toString,Hi=/^\[object (?:Array|FileList)\]$/,Ii={};ai?!function(){var a=["%cRactive.js %c0.7.2 %cin debug mode, %cmore...","color: rgb(114, 157, 52); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(82, 140, 224); font-weight: normal; text-decoration: underline;"],b="You're running Ractive 0.7.2 in debug mode - messages will be printed to the console to help you fix problems and optimise your application.\n\nTo disable debug mode, add this line at the start of your app:\n  Ractive.DEBUG = false;\n\nTo disable debug mode when your app is minified, add this snippet:\n  Ractive.DEBUG = /unminified/.test(function(){/*unminified*/});\n\nGet help and support:\n  http://docs.ractivejs.org\n  http://stackoverflow.com/questions/tagged/ractivejs\n  http://groups.google.com/forum/#!forum/ractive-js\n  http://twitter.com/ractivejs\n\nFound a bug? Raise an issue:\n  https://github.com/ractivejs/ractive/issues\n\n";Ei=function(){var c=!!console.groupCollapsed;console[c?"groupCollapsed":"log"].apply(console,a),console.log(b),c&&console.groupEnd(a),Ei=wi},Di=function(a,b){if(Ei(),"object"==typeof b[b.length-1]){var c=b.pop(),d=c?c.ractive:null;if(d){var e=void 0;d.component&&(e=d.component.name)&&(a="<"+e+"> "+a);var f=void 0;(f=c.node||d.fragment&&d.fragment.rendered&&d.find("*"))&&b.push(f)}}console.warn.apply(console,["%cRactive.js: %c"+a,"color: rgb(114, 157, 52);","color: rgb(85, 85, 85);"].concat(b))},Ci=function(){console.log.apply(console,arguments)}}():Di=Ci=Ei=wi;var Ji="Bad arguments",Ki='A function was specified for "%s" %s, but no %s was returned',Li=function(a,b){return'Missing "'+a+'" '+b+" plugin. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#"+b+"s"},Mi=function(a,b,c,d){if(a===b)return t(b);if(d){var e=r("interpolators",c,d);if(e)return e(a,b)||t(b);l(Li(d,"interpolator"))}return Pi.number(a,b)||Pi.array(a,b)||Pi.object(a,b)||t(b)},Ni=Mi,Oi={number:function(a,b){var c;return i(a)&&i(b)?(a=+a,b=+b,c=b-a,c?function(b){return a+b*c}:function(){return a}):null},array:function(a,b){var c,d,e,g;if(!f(a)||!f(b))return null;for(c=[],d=[],g=e=Math.min(a.length,b.length);g--;)d[g]=Ni(a[g],b[g]);for(g=e;g<a.length;g+=1)c[g]=a[g];for(g=e;g<b.length;g+=1)c[g]=b[g];return function(a){for(var b=e;b--;)c[b]=d[b](a);return c}},object:function(a,b){var c,d,e,f,g;if(!j(a)||!j(b))return null;c=[],f={},e={};for(g in a)Fi.call(a,g)&&(Fi.call(b,g)?(c.push(g),e[g]=Ni(a[g],b[g])):f[g]=a[g]);for(g in b)Fi.call(b,g)&&!Fi.call(a,g)&&(f[g]=b[g]);return d=c.length,function(a){for(var b,g=d;g--;)b=c[g],f[b]=e[b](a);return f}}},Pi=Oi,Qi=u,Ri={},Si=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g,Ti=/\*/,Ui={},Vi=function(a){var b=a.split(".");this.str=a,"@"===a[0]&&(this.isSpecial=!0,this.value=x(a)),this.firstKey=b[0],this.lastKey=b.pop(),this.isPattern=Ti.test(a),this.parent=""===a?null:y(b.join(".")),this.isRoot=!a};Vi.prototype={equalsOrStartsWith:function(a){return a===this||this.startsWith(a)},join:function(a){return y(this.isRoot?String(a):this.str+"."+a)},replace:function(a,b){return this===a?b:this.startsWith(a)?null===b?b:y(this.str.replace(a.str+".",b.str+".")):void 0},startsWith:function(a){return a?a&&this.str.substr(0,a.str.length+1)===a.str+".":!1},toString:function(){throw new Error("Bad coercion")},valueOf:function(){throw new Error("Bad coercion")},wildcardMatches:function(){return this._wildcardMatches||(this._wildcardMatches=Qi(this.str))}};var Wi,Xi=y(""),Yi=C,Zi="Cannot add to a non-numeric value",$i=D;"undefined"==typeof window?Wi=null:(!function(a,b,c){var d,e;if(!c.requestAnimationFrame){for(d=0;d<a.length&&!c.requestAnimationFrame;++d)c.requestAnimationFrame=c[a[d]+"RequestAnimationFrame"];
c.requestAnimationFrame||(e=c.setTimeout,c.requestAnimationFrame=function(a){var c,d,f;return c=Date.now(),d=Math.max(0,16-(c-b)),f=e(function(){a(c+d)},d),b=c+d,f})}}(ei,0,window),Wi=window.requestAnimationFrame);var _i,aj=Wi;_i="undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?function(){return window.performance.now()}:function(){return Date.now()};var bj=_i,cj={construct:{deprecated:"beforeInit",replacement:"onconstruct"},render:{deprecated:"init",message:'The "init" method has been deprecated and will likely be removed in a future release. You can either use the "oninit" method which will fire only once prior to, and regardless of, any eventual ractive instance being rendered, or if you need to access the rendered DOM, use "onrender" instead. See http://docs.ractivejs.org/latest/migrating for more information.'},complete:{deprecated:"complete",replacement:"oncomplete"}};E.prototype.fire=function(a,b){function c(c){return a[c]?(b?a[c](b):a[c](),!0):void 0}c(this.method),!a[this.method]&&this.deprecate&&c(this.deprecate.deprecated)&&(this.deprecate.message?p(this.deprecate.message):p('The method "%s" has been deprecated in favor of "%s" and will likely be removed in a future release. See http://docs.ractivejs.org/latest/migrating for more information.',this.deprecate.deprecated,this.deprecate.replacement)),b?a.fire(this.event,b):a.fire(this.event)};var dj,ej=E,fj={},gj={},hj={};"function"==typeof Promise?dj=Promise:(dj=function(a){var b,c,d,e,f,g,h=[],i=[],j=fj;d=function(a){return function(d){j===fj&&(b=d,j=a,c=N(j===gj?h:i,b),M(c))}},e=d(gj),f=d(hj);try{a(e,f)}catch(k){f(k)}return g={then:function(a,b){var d=new dj(function(e,f){var g=function(a,b,c){b.push("function"==typeof a?function(b){var c;try{c=a(b),O(d,c,e,f)}catch(g){f(g)}}:c)};g(a,h,e),g(b,i,f),j!==fj&&M(c)});return d}},g["catch"]=function(a){return this.then(null,a)},g},dj.all=function(a){return new dj(function(b,c){var d,e,f,g=[];if(!a.length)return void b(g);for(f=function(a,e){a&&"function"==typeof a.then?a.then(function(a){g[e]=a,--d||b(g)},c):(g[e]=a,--d||b(g))},d=e=a.length;e--;)f(a[e],e)})},dj.resolve=function(a){return new dj(function(b){b(a)})},dj.reject=function(a){return new dj(function(b,c){c(a)})});var ij=dj,jj=function(a){do if(void 0!==a.context)return a.context;while(a=a.parent);return Xi},kj=P,lj=function(a,b){this.callback=a,this.parent=b,this.intros=[],this.outros=[],this.children=[],this.totalChildren=this.outroChildren=0,this.detachQueue=[],this.decoratorQueue=[],this.outrosComplete=!1,b&&b.addChild(this)};lj.prototype={addChild:function(a){this.children.push(a),this.totalChildren+=1,this.outroChildren+=1},decrementOutros:function(){this.outroChildren-=1,$(this)},decrementTotal:function(){this.totalChildren-=1,$(this)},add:function(a){var b=a.isIntro?this.intros:this.outros;b.push(a)},addDecorator:function(a){this.decoratorQueue.push(a)},remove:function(a){var b=a.isIntro?this.intros:this.outros;K(b,a),$(this)},init:function(){this.ready=!0,$(this)},detachNodes:function(){this.decoratorQueue.forEach(U),this.detachQueue.forEach(Y),this.children.forEach(Z)}};var mj,nj,oj=lj,pj=[],qj=new ej("change");nj={start:function(a,b){var c,d;return b&&(c=new ij(function(a){return d=a})),mj={previousBatch:mj,transitionManager:new oj(d,mj&&mj.transitionManager),views:[],tasks:[],ractives:[],instance:a},a&&mj.ractives.push(a),c},end:function(){_(),mj.transitionManager.init(),!mj.previousBatch&&mj.instance&&(mj.instance.viewmodel.changes=[]),mj=mj.previousBatch},addRactive:function(a){mj&&F(mj.ractives,a)},registerTransition:function(a){a._manager=mj.transitionManager,mj.transitionManager.add(a)},registerDecorator:function(a){mj.transitionManager.addDecorator(a)},addView:function(a){mj.views.push(a)},addUnresolved:function(a){pj.push(a)},removeUnresolved:function(a){K(pj,a)},detachWhenReady:function(a){mj.transitionManager.detachQueue.push(a)},scheduleTask:function(a,b){var c;if(mj){for(c=mj;b&&c.previousBatch;)c=c.previousBatch;c.tasks.push(a)}else a()}};var rj=nj,sj=[],tj={tick:function(){var a,b,c;for(c=bj(),rj.start(),a=0;a<sj.length;a+=1)b=sj[a],b.tick(c)||sj.splice(a--,1);rj.end(),sj.length?aj(tj.tick):tj.running=!1},add:function(a){sj.push(a),tj.running||(tj.running=!0,aj(tj.tick))},abort:function(a,b){for(var c,d=sj.length;d--;)c=sj[d],c.root===b&&c.keypath===a&&c.stop()}},uj=tj,vj=function(a){var b;this.startTime=Date.now();for(b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);this.interpolator=Ni(this.from,this.to,this.root,this.interpolator),this.running=!0,this.tick()};vj.prototype={tick:function(){var a,b,c,d,e,f;return f=this.keypath,this.running?(d=Date.now(),a=d-this.startTime,a>=this.duration?(null!==f&&(rj.start(this.root),this.root.viewmodel.set(f,this.to),rj.end()),this.step&&this.step(1,this.to),this.complete(this.to),e=this.root._animations.indexOf(this),-1===e&&p("Animation was not found"),this.root._animations.splice(e,1),this.running=!1,!1):(b=this.easing?this.easing(a/this.duration):a/this.duration,null!==f&&(c=this.interpolator(b),rj.start(this.root),this.root.viewmodel.set(f,c),rj.end()),this.step&&this.step(b,c),!0)):!1},stop:function(){var a;this.running=!1,a=this.root._animations.indexOf(this),-1===a&&p("Animation was not found"),this.root._animations.splice(a,1)}};var wj=vj,xj=cb,yj={stop:wi},zj=eb,Aj=new ej("detach"),Bj=fb,Cj=gb,Dj=function(){var a,b,c;a=this._root[this._isComponentQuery?"liveComponentQueries":"liveQueries"],b=this.selector,c=a.indexOf(b),-1!==c&&(a.splice(c,1),a[b]=null)},Ej=function(a,b){var c,d,e,f,g,h,i,j,k,l;for(c=ib(a.component||a._ractive.proxy),d=ib(b.component||b._ractive.proxy),e=J(c),f=J(d);e&&e===f;)c.pop(),d.pop(),g=e,e=J(c),f=J(d);if(e=e.component||e,f=f.component||f,k=e.parentFragment,l=f.parentFragment,k===l)return h=k.items.indexOf(e),i=l.items.indexOf(f),h-i||c.length-d.length;if(j=g.fragments)return h=j.indexOf(k),i=j.indexOf(l),h-i||c.length-d.length;throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!")},Fj=function(a,b){var c;return a.compareDocumentPosition?(c=a.compareDocumentPosition(b),2&c?1:-1):Ej(a,b)},Gj=function(){this.sort(this._isComponentQuery?Ej:Fj),this._dirty=!1},Hj=function(){var a=this;this._dirty||(this._dirty=!0,rj.scheduleTask(function(){a._sort()}))},Ij=function(a){var b=this.indexOf(this._isComponentQuery?a.instance:a);-1!==b&&this.splice(b,1)},Jj=jb,Kj=kb,Lj=lb,Mj=mb,Nj=nb,Oj=ob,Pj={enqueue:function(a,b){a.event&&(a._eventQueue=a._eventQueue||[],a._eventQueue.push(a.event)),a.event=b},dequeue:function(a){a._eventQueue&&a._eventQueue.length?a.event=a._eventQueue.pop():delete a.event}},Qj=Pj,Rj=pb,Sj=sb,Tj=tb,Uj={capture:!0,noUnwrap:!0,fullRootGet:!0},Vj=ub,Wj=new ej("insert"),Xj=wb,Yj=function(a,b,c,d){this.root=a,this.keypath=b,this.callback=c,this.defer=d.defer,this.context=d&&d.context?d.context:a};Yj.prototype={init:function(a){this.value=this.root.get(this.keypath.str),a!==!1?this.update():this.oldValue=this.value},setValue:function(a){var b=this;h(a,this.value)||(this.value=a,this.defer&&this.ready?rj.scheduleTask(function(){return b.update()}):this.update())},update:function(){this.updating||(this.updating=!0,this.callback.call(this.context,this.value,this.oldValue,this.keypath.str),this.oldValue=this.value,this.updating=!1)}};var Zj,$j=Yj,_j=xb,ak=Array.prototype.slice;Zj=function(a,b,c,d){this.root=a,this.callback=c,this.defer=d.defer,this.keypath=b,this.regex=new RegExp("^"+b.str.replace(/\./g,"\\.").replace(/\*/g,"([^\\.]+)")+"$"),this.values={},this.defer&&(this.proxies=[]),this.context=d&&d.context?d.context:a},Zj.prototype={init:function(a){var b,c;if(b=_j(this.root,this.keypath),a!==!1)for(c in b)b.hasOwnProperty(c)&&this.update(y(c));else this.values=b},update:function(a){var b,c=this;if(a.isPattern){b=_j(this.root,a);for(a in b)b.hasOwnProperty(a)&&this.update(y(a))}else if(!this.root.viewmodel.implicitChanges[a.str])return this.defer&&this.ready?void rj.scheduleTask(function(){return c.getProxy(a).update()}):void this.reallyUpdate(a)},reallyUpdate:function(a){var b,c,d,e;return b=a.str,c=this.root.viewmodel.get(a),this.updating?void(this.values[b]=c):(this.updating=!0,h(c,this.values[b])&&this.ready||(d=ak.call(this.regex.exec(b),1),e=[c,this.values[b],b].concat(d),this.values[b]=c,this.callback.apply(this.context,e)),void(this.updating=!1))},getProxy:function(a){var b=this;return this.proxies[a.str]||(this.proxies[a.str]={update:function(){return b.reallyUpdate(a)}}),this.proxies[a.str]}};var bk,ck,dk,ek,fk,gk,hk=Zj,ik=yb,jk={},kk=zb,lk=Ab,mk=function(a){return a.trim()},nk=function(a){return""!==a},ok=Bb,pk=Cb,qk=Db,rk=Eb,sk=Array.prototype,tk=function(a){return function(b){for(var c=arguments.length,d=Array(c>1?c-1:0),e=1;c>e;e++)d[e-1]=arguments[e];var g,h,i,j,k=[];if(b=y(B(b)),g=this.viewmodel.get(b),h=g.length,!f(g))throw new Error("Called ractive."+a+"('"+b.str+"'), but '"+b.str+"' does not refer to an array");return k=rk(g,a,d),j=sk[a].apply(g,d),i=rj.start(this,!0).then(function(){return j}),k?this.viewmodel.smartUpdate(b,g,k):this.viewmodel.mark(b),rj.end(),i}},uk=tk("pop"),vk=tk("push"),wk="/* Ractive.js component styles */\n",xk=[],yk=!1;$h?(dk=document.createElement("style"),dk.type="text/css",ek=document.getElementsByTagName("head")[0],gk=!1,fk=dk.styleSheet,ck=function(){var a=wk+xk.map(function(a){return"\n/* {"+a.id+"} */\n"+a.styles}).join("\n");fk?fk.cssText=a:dk.innerHTML=a,gk||(ek.appendChild(dk),gk=!0)},bk={add:function(a){xk.push(a),yk=!0},apply:function(){yk&&(ck(),yk=!1)}}):bk=null;var zk,Ak,Bk=bk,Ck=Gb,Dk=new ej("render"),Ek=new ej("complete"),Fk={extend:function(a,b,c){b.adapt=Ib(b.adapt,I(c.adapt))},init:function(){}},Gk=Fk,Hk=Jb,Ik=/(?:^|\})?\s*([^\{\}]+)\s*\{/g,Jk=/\/\*.*?\*\//g,Kk=/((?:(?:\[[^\]+]\])|(?:[^\s\+\>\~:]))+)((?::[^\s\+\>\~\(]+(?:\([^\)]+\))?)?\s*[\s\+\>\~]?)\s*/g,Lk=/^@media/,Mk=/\[data-ractive-css~="\{[a-z0-9-]+\}"]/g,Nk=1,Ok={name:"css",extend:function(a,b,c){if(c.css){var d=Nk++,e=c.noCssTransform?c.css:Hk(c.css,d);b.cssId=d,Bk.add({id:d,styles:e})}},init:function(){}},Pk=Ok,Qk={name:"data",extend:function(a,b,c){var d=void 0,e=void 0;if(c.data&&j(c.data))for(d in c.data)e=c.data[d],e&&"object"==typeof e&&(j(e)||f(e))&&p("Passing a `data` option with object and array properties to Ractive.extend() is discouraged, as mutating them is likely to cause bugs. Consider using a data function instead:\n\n  // this...\n  data: function () {\n    return {\n      myObject: {}\n    };\n  })\n\n  // instead of this:\n  data: {\n    myObject: {}\n  }");b.data=Nb(b.data,c.data)},init:function(a,b,c){var d=Nb(a.prototype.data,c.data);return"function"==typeof d&&(d=d.call(b)),d||{}},reset:function(a){var b=this.init(a.constructor,a,a.viewmodel);return a.viewmodel.reset(b),!0}},Rk=Qk,Sk=/^\s+/;Ak=function(a){this.name="ParseError",this.message=a;try{throw new Error(a)}catch(b){this.stack=b.stack}},Ak.prototype=Error.prototype,zk=function(a,b){var c,d,e=0;for(this.str=a,this.options=b||{},this.pos=0,this.lines=this.str.split("\n"),this.lineEnds=this.lines.map(function(a){var b=e+a.length+1;return e=b,b},0),this.init&&this.init(a,b),c=[];this.pos<this.str.length&&(d=this.read());)c.push(d);this.leftover=this.remaining(),this.result=this.postProcess?this.postProcess(c,b):c},zk.prototype={read:function(a){var b,c,d,e;for(a||(a=this.converters),b=this.pos,d=a.length,c=0;d>c;c+=1)if(this.pos=b,e=a[c](this))return e;return null},getLinePos:function(a){for(var b,c=0,d=0;a>=this.lineEnds[c];)d=this.lineEnds[c],c+=1;return b=a-d,[c+1,b+1,a]},error:function(a){var b=this.getLinePos(this.pos),c=b[0],d=b[1],e=this.lines[b[0]-1],f=0,g=e.replace(/\t/g,function(a,c){return c<b[1]&&(f+=1),"  "})+"\n"+new Array(b[1]+f).join(" ")+"^----",h=new Ak(""+a+" at line "+c+" character "+d+":\n"+g);throw h.line=b[0],h.character=b[1],h.shortMessage=a,h},matchString:function(a){return this.str.substr(this.pos,a.length)===a?(this.pos+=a.length,a):void 0},matchPattern:function(a){var b;return(b=a.exec(this.remaining()))?(this.pos+=b[0].length,b[1]||b[0]):void 0},allowWhitespace:function(){this.matchPattern(Sk)},remaining:function(){return this.str.substring(this.pos)},nextChar:function(){return this.str.charAt(this.pos)}},zk.extend=function(a){var b,c,d=this;b=function(a,b){zk.call(this,a,b)},b.prototype=xi(d.prototype);for(c in a)Fi.call(a,c)&&(b.prototype[c]=a[c]);return b.extend=zk.extend,b};var Tk,Uk,Vk,Wk=zk,Xk=1,Yk=2,Zk=3,$k=4,_k=5,al=6,bl=7,cl=8,dl=9,el=10,fl=13,gl=14,hl=15,il=16,jl=17,kl=18,ll=20,ml=21,nl=22,ol=23,pl=24,ql=25,rl=26,sl=27,tl=30,ul=31,vl=32,wl=33,xl=34,yl=35,zl=36,Al=40,Bl=50,Cl=51,Dl=52,El=53,Fl=54,Gl=60,Hl=61,Il=Qb,Jl=/^[^\s=]+/,Kl=/^\s+/,Ll=Rb,Ml=/^(\/(?:[^\n\r\u2028\u2029/\\[]|\\.|\[(?:[^\n\r\u2028\u2029\]\\]|\\.)*])+\/(?:([gimuy])(?![a-z]*\2))*(?![a-zA-Z_$0-9]))/,Nl=Sb,Ol={t:el,exclude:!0},Pl="Expected a JavaScript expression",Ql="Expected closing paren",Rl=Ub,Sl=/^(?:[+-]?)0*(?:(?:(?:[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,Tl=Vb;Tk=/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/,Uk=/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/,Vk=/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/;var Ul,Vl,Wl=function(a){return function(b){var c,d,e,f;for(c=b.pos,d='"',e=!1;!e;)f=b.matchPattern(Tk)||b.matchPattern(Uk)||b.matchString(a),f?d+='"'===f?'\\"':"\\'"===f?"'":f:(f=b.matchPattern(Vk),f?d+="\\u"+("000"+f.charCodeAt(1).toString(16)).slice(-4):e=!0);return d+='"',JSON.parse(d)}},Xl=Wl('"'),Yl=Wl("'"),Zl=function(a){var b,c;return b=a.pos,a.matchString('"')?(c=Yl(a),a.matchString('"')?{t:ml,v:c}:(a.pos=b,null)):a.matchString("'")?(c=Xl(a),a.matchString("'")?{t:ml,v:c}:(a.pos=b,null)):null},$l=/^[a-zA-Z_$][a-zA-Z_$0-9]*/,_l=Wb,am=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/,bm=Xb,cm=Yb,dm=function(a){var b,c;return b=a.pos,a.allowWhitespace(),a.matchString("{")?(c=cm(a),a.allowWhitespace(),a.matchString("}")?{t:ol,m:c}:(a.pos=b,null)):(a.pos=b,null)},em=Zb,fm=function(a){var b,c;return b=a.pos,a.allowWhitespace(),a.matchString("[")?(c=em(a),a.matchString("]")?{t:nl,m:c}:(a.pos=b,null)):(a.pos=b,null)},gm=$b,hm=_b,im=/^(?:~\/|(?:\.\.\/)+|\.\/(?:\.\.\/)*|\.)/;Ul=/^(?:Array|console|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)\b/,Vl=/^(?:break|case|catch|continue|debugger|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|var|void|while|with)$/;var jm,km,lm=/^[a-zA-Z$_0-9]+(?:(?:\.[a-zA-Z$_0-9]+)|(?:\[[0-9]+\]))*/,mm=/^[a-zA-Z_$][-a-zA-Z_$0-9]*/,nm=ac,om=function(a){return gm(a)||hm(a)||nm(a)},pm=bc,qm=function(a){var b,c,d,e;if(c=om(a),!c)return null;for(;c;)if(b=a.pos,d=pm(a))c={t:vl,x:c,r:d};else{if(!a.matchString("("))break;a.allowWhitespace(),e=em(a),a.allowWhitespace(),a.matchString(")")||a.error(Ql),c={t:Al,x:c},e&&(c.o=e)}return c};km=function(a,b){return function(c){var d;return(d=b(c))?d:c.matchString(a)?(c.allowWhitespace(),d=Em(c),d||c.error(Pl),{s:a,o:d,t:wl}):null}},function(){var a,b,c,d,e;for(d="! ~ + - typeof".split(" "),e=qm,a=0,b=d.length;b>a;a+=1)c=km(d[a],e),e=c;jm=e}();var rm,sm,tm=jm;sm=function(a,b){return function(c){var d,e,f;if(e=b(c),!e)return null;for(;;){if(d=c.pos,c.allowWhitespace(),!c.matchString(a))return c.pos=d,e;if("in"===a&&/[a-zA-Z_$0-9]/.test(c.remaining().charAt(0)))return c.pos=d,e;if(c.allowWhitespace(),f=b(c),!f)return c.pos=d,e;e={t:zl,s:a,o:[e,f]}}}},function(){var a,b,c,d,e;for(d="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" "),e=tm,a=0,b=d.length;b>a;a+=1)c=sm(d[a],e),e=c;rm=e}();var um,vm,wm,xm,ym,zm,Am,Bm,Cm=rm,Dm=cc,Em=dc,Fm=ec,Gm=gc,Hm=/^[0-9][1-9]*$/,Im=ic,Jm=jc,Km=kc,Lm=lc,Mm=mc,Nm=nc,Om=oc,Pm=/^yield\s*/,Qm=pc,Rm=qc,Sm=/^\s*else\s*/,Tm=rc,Um=/^\s*elseif\s+/,Vm={each:Dl,"if":Bl,"if-with":Fl,"with":El,unless:Cl},Wm=sc,Xm=/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,Ym=/^\s*,\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,Zm=new RegExp("^("+Object.keys(Vm).join("|")+")\\b"),$m=xc,_m="<!--",an="-->";um=/^(allowFullscreen|async|autofocus|autoplay|checked|compact|controls|declare|default|defaultChecked|defaultMuted|defaultSelected|defer|disabled|enabled|formNoValidate|hidden|indeterminate|inert|isMap|itemScope|loop|multiple|muted|noHref|noResize|noShade|noValidate|noWrap|open|pauseOnExit|readOnly|required|reversed|scoped|seamless|selected|sortable|translate|trueSpeed|typeMustMatch|visible)$/i,vm=/^(?:area|base|br|col|command|doctype|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i,wm={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},xm=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],ym=new RegExp("&(#?(?:x[\\w\\d]+|\\d+|"+Object.keys(wm).join("|")+"));?","g"),zm=/</g,Am=/>/g,Bm=/&/g;var bn,cn,dn,en,fn,gn,hn,jn=/^\s*\r?\n/,kn=/\r?\n\s*$/,ln=function(a){var b,c,d,e,f;for(b=1;b<a.length;b+=1)c=a[b],d=a[b-1],e=a[b-2],Bc(c)&&Cc(d)&&Bc(e)&&kn.test(e)&&jn.test(c)&&(a[b-2]=e.replace(kn,"\n"),a[b]=c.replace(jn,"")),Dc(c)&&Bc(d)&&kn.test(d)&&Bc(c.f[0])&&jn.test(c.f[0])&&(a[b-1]=d.replace(kn,"\n"),c.f[0]=c.f[0].replace(jn,"")),Bc(c)&&Dc(d)&&(f=J(d.f),Bc(f)&&kn.test(f)&&jn.test(c)&&(d.f[d.f.length-1]=f.replace(kn,"\n"),a[b]=c.replace(jn,"")));return a},mn=/^[ \t\f\r\n]+/,nn=/[ \t\f\r\n]+$/,on=function(a,b,c){var d;b&&(d=a[0],"string"==typeof d&&(d=d.replace(mn,""),d?a[0]=d:a.shift())),c&&(d=J(a),"string"==typeof d&&(d=d.replace(nn,""),d?a[a.length-1]=d:a.pop()))},pn=Ec,qn=/[ \t\f\r\n]+/g,rn=/^(?:pre|script|style|textarea)$/i,sn=/^\s+/,tn=/\s+$/,un=Fc,vn=/^([a-zA-Z]{1,}:?[a-zA-Z0-9\-]*)\s*\>/,wn=function(a,b){var c,d,e;for(c=b.length;c--;){if(d=a.indexOf(b[c]),!d)return 0;-1!==d&&(!e||e>d)&&(e=d)}return e||-1},xn=Gc,yn=/^[^\s"'>\/=]+/,zn=/^[^\s"'=<>`]+/;cn={"true":!0,"false":!1,undefined:void 0,"null":null},dn=new RegExp("^(?:"+Object.keys(cn).join("|")+")"),en=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,fn=/\$\{([^\}]+)\}/g,gn=/^\$\{([^\}]+)\}/,hn=/^\s*$/,bn=Wk.extend({init:function(a,b){this.values=b.values,this.allowWhitespace()},postProcess:function(a){return 1===a.length&&hn.test(this.leftover)?{value:a[0].v}:null},converters:[function(a){var b;return a.values?(b=a.matchPattern(gn),b&&a.values.hasOwnProperty(b)?{v:a.values[b]}:void 0):null},function(a){var b;return(b=a.matchPattern(dn))?{v:cn[b]}:void 0},function(a){var b;return(b=a.matchPattern(en))?{v:+b}:void 0},function(a){var b,c=Zl(a);return c&&(b=a.values)?{v:c.v.replace(fn,function(a,c){return c in b?b[c]:c})}:c},function(a){var b,c;if(!a.matchString("{"))return null;if(b={},a.allowWhitespace(),a.matchString("}"))return{v:b};for(;c=Mc(a);){if(b[c.key]=c.value,a.allowWhitespace(),a.matchString("}"))return{v:b};if(!a.matchString(","))return null}return null},function(a){var b,c;if(!a.matchString("["))return null;if(b=[],a.allowWhitespace(),a.matchString("]"))return{v:b};for(;c=a.read();){if(b.push(c.v),a.allowWhitespace(),a.matchString("]"))return{v:b};if(!a.matchString(","))return null;a.allowWhitespace()}return null}]});var An,Bn=function(a,b){var c=new bn(a,{values:b});return c.result},Cn=Nc,Dn=/^([a-zA-Z_$][a-zA-Z_$0-9]*)\(/,En=/\)\s*$/;An=Wk.extend({converters:[Em]});var Fn,Gn=/^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/,Hn=/^[\s\n\/>]/,In=/^on/,Jn=/^on-([a-zA-Z\\*\\.$_][a-zA-Z\\*\\.$_0-9\-]+)$/,Kn=/^(?:change|reset|teardown|update|construct|config|init|render|unrender|detach|insert)$/,Ln={"intro-outro":"t0",intro:"t1",outro:"t2",decorator:"o"},Mn={exclude:!0};Fn={li:["li"],dt:["dt","dd"],dd:["dt","dd"],p:"address article aside blockquote div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr main menu nav ol p pre section table ul".split(" "),rt:["rt","rp"],rp:["rt","rp"],optgroup:["optgroup"],option:["option","optgroup"],thead:["tbody","tfoot"],tbody:["tbody","tfoot"],tfoot:["tbody"],tr:["tr","tbody"],td:["td","th","tr"],th:["td","th","tr"]};var Nn,On=Oc,Pn=Qc,Qn=Rc,Rn=/[-/\\^$*+?.()|[\]{}]/g,Sn=Sc,Tn=/^<!--\s*/,Un=/s*>\s*([a-zA-Z_$][-a-zA-Z_$0-9]*)\s*/,Vn=/\s*-->/,Wn=Tc,Xn=/^#\s*partial\s+/,Yn=Uc,Zn=Vc,$n=[Km,Jm,Wm,Om,Nm,Lm],_n=[Im],ao=[Jm,Wm,Nm],bo=void 0,co=[Nl,$m,On,Pn],eo=[Sn,Wn];bo=Wk.extend({init:function(a,b){var c=b.tripleDelimiters||["{{{","}}}"],d=b.staticDelimiters||["[[","]]"],e=b.staticTripleDelimiters||["[[[","]]]"];this.standardDelimiters=b.delimiters||["{{","}}"],this.tags=[{isStatic:!1,isTriple:!1,open:this.standardDelimiters[0],close:this.standardDelimiters[1],readers:$n},{isStatic:!1,isTriple:!0,open:c[0],close:c[1],readers:_n},{isStatic:!0,isTriple:!1,open:d[0],close:d[1],readers:ao},{isStatic:!0,isTriple:!0,open:e[0],close:e[1],readers:_n}],this.sortMustacheTags(),this.sectionDepth=0,this.elementStack=[],this.interpolate={script:!b.interpolate||b.interpolate.script!==!1,style:!b.interpolate||b.interpolate.style!==!1},b.sanitize===!0&&(b.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:!0}),this.stripComments=b.stripComments!==!1,this.preserveWhitespace=b.preserveWhitespace,this.sanitizeElements=b.sanitize&&b.sanitize.elements,this.sanitizeEventAttributes=b.sanitize&&b.sanitize.eventAttributes,this.includeLinePositions=b.includeLinePositions},postProcess:function(a){return a.length?(this.sectionDepth>0&&this.error("A section was left open"),pn(a[0].t,this.stripComments,this.preserveWhitespace,!this.preserveWhitespace,!this.preserveWhitespace),a[0]):{t:[],v:fi}},converters:[Yn],sortMustacheTags:function(){this.tags.sort(function(a,b){return b.open.length-a.open.length})}});var fo,go,ho,io=["preserveWhitespace","sanitize","stripComments","delimiters","tripleDelimiters","interpolate"],jo={parse:Xc,fromId:Yc,isHashedId:Zc,isParsed:$c,getParseOptions:_c,createHelper:Wc},ko=jo,lo={name:"template",extend:function(a,b,c){var d;"template"in c&&(d=c.template,b.template="function"==typeof d?d:dd(d,b))},init:function(a,b,c){var d,e;d="template"in c?c.template:a.prototype.template,"function"==typeof d&&(e=d,d=bd(b,e),b._config.template={fn:e,result:d}),d=dd(d,b),b.template=d.t,d.p&&ed(b.partials,d.p)},reset:function(a){var b,c=ad(a);return c?(b=dd(c,a),a.template=b.t,ed(a.partials,b.p,!0),!0):void 0}},mo=lo;fo=["adaptors","components","computed","decorators","easing","events","interpolators","partials","transitions"],go=function(a,b){this.name=a,this.useDefaults=b},go.prototype={constructor:go,extend:function(a,b,c){this.configure(this.useDefaults?a.defaults:a,this.useDefaults?b:b.constructor,c)},init:function(){},configure:function(a,b,c){var d,e=this.name,f=c[e];d=xi(a[e]);for(var g in f)d[g]=f[g];b[e]=d},reset:function(a){var b=a[this.name],c=!1;return Object.keys(b).forEach(function(a){var d=b[a];d._fn&&(d._fn.isOwner?b[a]=d._fn:delete b[a],c=!0)}),c}},ho=fo.map(function(a){return new go(a,"computed"===a)});var no,oo,po,qo,ro,so,to=ho,uo=fd,vo=jd;qo={adapt:Gk,css:Pk,data:Rk,template:mo},po=Object.keys(hi),so=md(po.filter(function(a){return!qo[a]})),ro=md(po.concat(to.map(function(a){return a.name}))),oo=[].concat(po.filter(function(a){return!to[a]&&!qo[a]}),to,qo.data,qo.template,qo.css),no={extend:function(a,b,c){return kd("extend",a,b,c)},init:function(a,b,c){return kd("init",a,b,c)},reset:function(a){return oo.filter(function(b){return b.reset&&b.reset(a)}).map(function(a){return a.name})},order:oo};var wo=no,xo=nd,yo=od,zo=pd,Ao=qd,Bo=rd,Co=sd,Do=td,Eo=ud,Fo=vd,Go=wd,Ho=xd,Io=yd,Jo=function(){return b(this.node)},Ko=function(a){this.type=Xk,this.text=a.template};Ko.prototype={detach:Jo,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createTextNode(this.text)),this.node},toString:function(a){return a?Ac(this.text):this.text},unrender:function(a){return a?this.detach():void 0}};var Lo=Ko,Mo=zd,No=Ad,Oo=function(a,b,c){var d;this.ref=b,this.resolved=!1,this.root=a.root,this.parentFragment=a.parentFragment,this.callback=c,d=kj(a.root,b,a.parentFragment),void 0!=d?this.resolve(d):rj.addUnresolved(this)};Oo.prototype={resolve:function(a){this.keypath&&!a&&rj.addUnresolved(this),this.resolved=!0,this.keypath=a,this.callback(a)},forceResolution:function(){this.resolve(y(this.ref))},rebind:function(a,b){var c;void 0!=this.keypath&&(c=this.keypath.replace(a,b),void 0!==c&&this.resolve(c))},unbind:function(){this.resolved||rj.removeUnresolved(this)}};var Po=Oo,Qo=function(a,b,c){this.parentFragment=a.parentFragment,this.ref=b,this.callback=c,this.rebind()},Ro={"@keypath":{prefix:"c",prop:["context"]},"@index":{prefix:"i",prop:["index"]},"@key":{prefix:"k",prop:["key","index"]}};Qo.prototype={rebind:function(){var a,b=this.ref,c=this.parentFragment,d=Ro[b];if(!d)throw new Error('Unknown special reference "'+b+'" - valid references are @index, @key and @keypath');if(this.cached)return this.callback(y("@"+d.prefix+Bd(this.cached,d)));if(-1!==d.prop.indexOf("index")||-1!==d.prop.indexOf("key"))for(;c;){if(c.owner.currentSubtype===Dl&&void 0!==(a=Bd(c,d)))return this.cached=c,c.registerIndexRef(this),this.callback(y("@"+d.prefix+a));c=!c.parent&&c.owner&&c.owner.component&&c.owner.component.parentFragment&&!c.owner.component.instance.isolated?c.owner.component.parentFragment:c.parent}else for(;c;){if(void 0!==(a=Bd(c,d)))return this.callback(y("@"+d.prefix+a.str));c=c.parent}},unbind:function(){this.cached&&this.cached.unregisterIndexRef(this)}};var So=Qo,To=function(a,b,c){this.parentFragment=a.parentFragment,this.ref=b,this.callback=c,b.ref.fragment.registerIndexRef(this),this.rebind()};To.prototype={rebind:function(){var a,b=this.ref.ref;a="k"===b.ref.t?"k"+b.fragment.key:"i"+b.fragment.index,void 0!==a&&this.callback(y("@"+a))},unbind:function(){this.ref.ref.fragment.unregisterIndexRef(this)}};var Uo=To,Vo=Cd;Cd.resolve=function(a){var b,c,d={};for(b in a.refs)c=a.refs[b],d[c.ref.n]="k"===c.ref.t?c.fragment.key:c.fragment.index;return d};var Wo,Xo=Dd,Yo=Ed,Zo={},$o=Function.prototype.bind;Wo=function(a,b,c,d){var e,f=this;e=a.root,this.root=e,this.parentFragment=b,this.callback=d,this.owner=a,this.str=c.s,this.keypaths=[],this.pending=c.r.length,this.refResolvers=c.r.map(function(a,b){return Xo(f,a,function(a){f.resolve(b,a)})}),this.ready=!0,this.bubble()},Wo.prototype={bubble:function(){this.ready&&(this.uniqueString=Gd(this.str,this.keypaths),this.keypath=Hd(this.uniqueString),this.createEvaluator(),this.callback(this.keypath))},unbind:function(){for(var a;a=this.refResolvers.pop();)a.unbind()},resolve:function(a,b){this.keypaths[a]=b,this.bubble()},createEvaluator:function(){var a,b,c,d,e,f=this;d=this.keypath,a=this.root.viewmodel.computations[d.str],a?this.root.viewmodel.mark(d):(e=Yo(this.str,this.refResolvers.length),b=this.keypaths.map(function(a){var b;return"undefined"===a?function(){return void 0}:a.isSpecial?(b=a.value,function(){return b}):function(){var b=f.root.viewmodel.get(a,{noUnwrap:!0,fullRootGet:!0});return"function"==typeof b&&(b=Jd(b,f.root)),b}}),c={deps:this.keypaths.filter(Id),getter:function(){var a=b.map(Fd);return e.apply(null,a)}},a=this.root.viewmodel.compute(d,c))},rebind:function(a,b){this.refResolvers.forEach(function(c){return c.rebind(a,b)})}};var _o=Wo,ap=function(a,b,c){var d=this;this.resolver=b,this.root=b.root,this.parentFragment=c,this.viewmodel=b.root.viewmodel,"string"==typeof a?this.value=a:a.t===tl?this.refResolver=Xo(this,a.n,function(a){d.resolve(a)}):new _o(b,c,a,function(a){d.resolve(a)})};ap.prototype={resolve:function(a){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.keypath=a,this.value=this.viewmodel.get(a),this.bind(),this.resolver.bubble()},bind:function(){this.viewmodel.register(this.keypath,this)},rebind:function(a,b){this.refResolver&&this.refResolver.rebind(a,b)},setValue:function(a){this.value=a,this.resolver.bubble()},unbind:function(){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.refResolver&&this.refResolver.unbind()},forceResolution:function(){this.refResolver&&this.refResolver.forceResolution()}};var bp=ap,cp=function(a,b,c){var d,e,f,g,h=this;this.parentFragment=g=a.parentFragment,this.root=d=a.root,this.mustache=a,this.ref=e=b.r,this.callback=c,this.unresolved=[],(f=kj(d,e,g))?this.base=f:this.baseResolver=new Po(this,e,function(a){h.base=a,h.baseResolver=null,h.bubble()}),this.members=b.m.map(function(a){return new bp(a,h,g)}),this.ready=!0,this.bubble()};cp.prototype={getKeypath:function(){var a=this.members.map(Kd);return!a.every(Ld)||this.baseResolver?null:this.base.join(a.join("."))},bubble:function(){this.ready&&!this.baseResolver&&this.callback(this.getKeypath())},unbind:function(){this.members.forEach(V)},rebind:function(a,b){var c;if(this.base){var d=this.base.replace(a,b);d&&d!==this.base&&(this.base=d,c=!0)}this.members.forEach(function(d){d.rebind(a,b)&&(c=!0)}),c&&this.bubble()},forceResolution:function(){this.baseResolver&&(this.base=y(this.ref),this.baseResolver.unbind(),this.baseResolver=null),this.members.forEach(Md),this.bubble()}};var dp=cp,ep=Nd,fp=Od,gp=Pd,hp={getValue:No,init:ep,resolve:fp,rebind:gp},ip=function(a){this.type=Yk,hp.init(this,a)};ip.prototype={update:function(){this.node.data=void 0==this.value?"":this.value},resolve:hp.resolve,rebind:hp.rebind,detach:Jo,unbind:Mo,render:function(){return this.node||(this.node=document.createTextNode(c(this.value))),this.node},unrender:function(a){a&&b(this.node)},getValue:hp.getValue,setValue:function(a){var b;this.keypath&&(b=this.root.viewmodel.wrapped[this.keypath.str])&&(a=b.get()),h(a,this.value)||(this.value=a,this.parentFragment.bubble(),this.node&&rj.addView(this))
},firstNode:function(){return this.node},toString:function(a){var b=""+c(this.value);return a?Ac(b):b}};var jp=ip,kp=Qd,lp=Rd,mp=Sd,np=Td,op=Ud,pp=Vd,qp=Wd,rp=Xd,sp=Yd,tp=function(a,b){hp.rebind.call(this,a,b)},up=$d,vp=_d,wp=ke,xp=le,yp=me,zp=pe,Ap=function(a){this.type=$k,this.subtype=this.currentSubtype=a.template.n,this.inverted=this.subtype===Cl,this.pElement=a.pElement,this.fragments=[],this.fragmentsToCreate=[],this.fragmentsToRender=[],this.fragmentsToUnrender=[],a.template.i&&(this.indexRefs=a.template.i.split(",").map(function(a,b){return{n:a,t:0===b?"k":"i"}})),this.renderedFragments=[],this.length=0,hp.init(this,a)};Ap.prototype={bubble:kp,detach:lp,find:mp,findAll:np,findAllComponents:op,findComponent:pp,findNextNode:qp,firstNode:rp,getIndexRef:function(a){if(this.indexRefs)for(var b=this.indexRefs.length;b--;){var c=this.indexRefs[b];if(c.n===a)return c}},getValue:hp.getValue,shuffle:sp,rebind:tp,render:up,resolve:hp.resolve,setValue:vp,toString:wp,unbind:xp,unrender:yp,update:zp};var Bp,Cp,Dp=Ap,Ep=qe,Fp=re,Gp=se,Hp=te,Ip={};try{ki("table").innerHTML="foo"}catch(Bi){Bp=!0,Cp={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}var Jp=function(a,b,c){var d,e,f,g,h,i=[];if(null!=a&&""!==a){for(Bp&&(e=Cp[b.tagName])?(d=ue("DIV"),d.innerHTML=e[0]+a+e[1],d=d.querySelector(".x"),"SELECT"===d.tagName&&(f=d.options[d.selectedIndex])):b.namespaceURI===ci.svg?(d=ue("DIV"),d.innerHTML='<svg class="x">'+a+"</svg>",d=d.querySelector(".x")):(d=ue(b.tagName),d.innerHTML=a,"SELECT"===d.tagName&&(f=d.options[d.selectedIndex]));g=d.firstChild;)i.push(g),c.appendChild(g);if("SELECT"===b.tagName)for(h=i.length;h--;)i[h]!==f&&(i[h].selected=!1)}return i},Kp=ve,Lp=xe,Mp=ye,Np=ze,Op=Ae,Pp=Be,Qp=function(a){this.type=Zk,hp.init(this,a)};Qp.prototype={detach:Ep,find:Fp,findAll:Gp,firstNode:Hp,getValue:hp.getValue,rebind:hp.rebind,render:Lp,resolve:hp.resolve,setValue:Mp,toString:Np,unbind:Mo,unrender:Op,update:Pp};var Rp,Sp,Tp,Up,Vp=Qp,Wp=function(){this.parentFragment.bubble()},Xp=Ce,Yp=function(a){return this.node?li(this.node,a)?this.node:this.fragment&&this.fragment.find?this.fragment.find(a):void 0:null},Zp=function(a,b){b._test(this,!0)&&b.live&&(this.liveQueries||(this.liveQueries=[])).push(b),this.fragment&&this.fragment.findAll(a,b)},$p=function(a,b){this.fragment&&this.fragment.findAllComponents(a,b)},_p=function(a){return this.fragment?this.fragment.findComponent(a):void 0},aq=De,bq=Ee,cq=Fe,dq=/^true|on|yes|1$/i,eq=/^[0-9]+$/,fq=function(a,b){var c,d,e;return e=b.a||{},d={},c=e.twoway,void 0!==c&&(d.twoway=0===c||dq.test(c)),c=e.lazy,void 0!==c&&(d.lazy=0!==c&&eq.test(c)?parseInt(c):0===c||dq.test(c)),d},gq=Ge;Rp="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" "),Sp="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" "),Tp=function(a){for(var b={},c=a.length;c--;)b[a[c].toLowerCase()]=a[c];return b},Up=Tp(Rp.concat(Sp));var hq=function(a){var b=a.toLowerCase();return Up[b]||b},iq=function(a,b){var c,d;if(c=b.indexOf(":"),-1===c||(d=b.substr(0,c),"xmlns"===d))a.name=a.element.namespace!==ci.html?hq(b):b;else if(b=b.substring(c+1),a.name=hq(b),a.namespace=ci[d.toLowerCase()],a.namespacePrefix=d,!a.namespace)throw'Unknown namespace ("'+d+'")'},jq=He,kq=Ie,lq=Je,mq=Ke,nq={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"},oq=Le,pq=Ne,qq=Oe,rq=Pe,sq=Qe,tq=Re,uq=Se,vq=Te,wq=Ue,xq=Ve,yq=We,zq=Xe,Aq=Ye,Bq=Ze,Cq=$e,Dq=function(a){this.init(a)};Dq.prototype={bubble:gq,init:kq,rebind:lq,render:mq,toString:oq,unbind:pq,update:Cq};var Eq,Fq=Dq,Gq=function(a,b){var c,d,e=[];for(c in b)"twoway"!==c&&"lazy"!==c&&b.hasOwnProperty(c)&&(d=new Fq({element:a,name:c,value:b[c],root:a.root}),e[c]=d,"value"!==c&&e.push(d));return(d=e.value)&&e.push(d),e};"undefined"!=typeof document&&(Eq=ki("div"));var Hq=function(a,b){this.element=a,this.root=a.root,this.parentFragment=a.parentFragment,this.attributes=[],this.fragment=new vu({root:a.root,owner:this,template:[b]})};Hq.prototype={bubble:function(){this.node&&this.update(),this.element.bubble()},rebind:function(a,b){this.fragment.rebind(a,b)},render:function(a){this.node=a,this.isSvg=a.namespaceURI===ci.svg,this.update()},unbind:function(){this.fragment.unbind()},update:function(){var a,b,c=this;a=this.fragment.toString(),b=_e(a,this.isSvg),this.attributes.filter(function(a){return af(b,a)}).forEach(function(a){c.node.removeAttribute(a.name)}),b.forEach(function(a){c.node.setAttribute(a.name,a.value)}),this.attributes=b},toString:function(){return this.fragment.toString()}};var Iq=Hq,Jq=function(a,b){return b?b.map(function(b){return new Iq(a,b)}):[]},Kq=function(a){var b,c,d,e;if(this.element=a,this.root=a.root,this.attribute=a.attributes[this.name||"value"],b=this.attribute.interpolator,b.twowayBinding=this,c=b.keypath){if("}"===c.str.slice(-1))return q("Two-way binding does not work with expressions (`%s` on <%s>)",b.resolver.uniqueString,a.name,{ractive:this.root}),!1;if(c.isSpecial)return q("Two-way binding does not work with %s",b.resolver.ref,{ractive:this.root}),!1}else{var f=b.template.r?"'"+b.template.r+"' reference":"expression";p("The %s being used for two-way binding is ambiguous, and may cause unexpected results. Consider initialising your data to eliminate the ambiguity",f,{ractive:this.root}),b.resolver.forceResolution(),c=b.keypath}this.attribute.isTwoway=!0,this.keypath=c,d=this.root.viewmodel.get(c),void 0===d&&this.getInitialValue&&(d=this.getInitialValue(),void 0!==d&&this.root.viewmodel.set(c,d)),(e=bf(a))&&(this.resetValue=d,e.formBindings.push(this))};Kq.prototype={handleChange:function(){var a=this;rj.start(this.root),this.attribute.locked=!0,this.root.viewmodel.set(this.keypath,this.getValue()),rj.scheduleTask(function(){return a.attribute.locked=!1}),rj.end()},rebound:function(){var a,b,c;b=this.keypath,c=this.attribute.interpolator.keypath,b!==c&&(K(this.root._twowayBindings[b.str],this),this.keypath=c,a=this.root._twowayBindings[c.str]||(this.root._twowayBindings[c.str]=[]),a.push(this))},unbind:function(){}},Kq.extend=function(a){var b,c=this;return b=function(a){Kq.call(this,a),this.init&&this.init()},b.prototype=xi(c.prototype),d(b.prototype,a),b.extend=Kq.extend,b};var Lq,Mq=Kq,Nq=cf,Oq=Mq.extend({getInitialValue:function(){return this.element.fragment?this.element.fragment.toString():""},render:function(){var a=this.element.node;a.addEventListener("change",Nq,!1),this.root.lazy||(a.addEventListener("input",Nq,!1),a.attachEvent&&a.addEventListener("keyup",Nq,!1))},unrender:function(){var a=this.element.node;a.removeEventListener("change",Nq,!1),a.removeEventListener("input",Nq,!1),a.removeEventListener("keyup",Nq,!1)},getValue:function(){return this.element.node.innerHTML}}),Pq=Oq,Qq=df,Rq={},Sq=Mq.extend({name:"checked",init:function(){this.siblings=Qq(this.root._guid,"radio",this.element.getAttribute("name")),this.siblings.push(this)},render:function(){var a=this.element.node;a.addEventListener("change",Nq,!1),a.attachEvent&&a.addEventListener("click",Nq,!1)},unrender:function(){var a=this.element.node;a.removeEventListener("change",Nq,!1),a.removeEventListener("click",Nq,!1)},handleChange:function(){rj.start(this.root),this.siblings.forEach(function(a){a.root.viewmodel.set(a.keypath,a.getValue())}),rj.end()},getValue:function(){return this.element.node.checked},unbind:function(){K(this.siblings,this)}}),Tq=Sq,Uq=Mq.extend({name:"name",init:function(){this.siblings=Qq(this.root._guid,"radioname",this.keypath.str),this.siblings.push(this),this.radioName=!0},getInitialValue:function(){return this.element.getAttribute("checked")?this.element.getAttribute("value"):void 0},render:function(){var a=this.element.node;a.name="{{"+this.keypath.str+"}}",a.checked=this.root.viewmodel.get(this.keypath)==this.element.getAttribute("value"),a.addEventListener("change",Nq,!1),a.attachEvent&&a.addEventListener("click",Nq,!1)},unrender:function(){var a=this.element.node;a.removeEventListener("change",Nq,!1),a.removeEventListener("click",Nq,!1)},getValue:function(){var a=this.element.node;return a._ractive?a._ractive.value:a.value},handleChange:function(){this.element.node.checked&&Mq.prototype.handleChange.call(this)},rebound:function(a,b){var c;Mq.prototype.rebound.call(this,a,b),(c=this.element.node)&&(c.name="{{"+this.keypath.str+"}}")},unbind:function(){K(this.siblings,this)}}),Vq=Uq,Wq=Mq.extend({name:"name",getInitialValue:function(){return this.noInitialValue=!0,[]},init:function(){var a,b;this.checkboxName=!0,this.siblings=Qq(this.root._guid,"checkboxes",this.keypath.str),this.siblings.push(this),this.noInitialValue&&(this.siblings.noInitialValue=!0),this.siblings.noInitialValue&&this.element.getAttribute("checked")&&(a=this.root.viewmodel.get(this.keypath),b=this.element.getAttribute("value"),a.push(b))},unbind:function(){K(this.siblings,this)},render:function(){var a,b,c=this.element.node;a=this.root.viewmodel.get(this.keypath),b=this.element.getAttribute("value"),this.isChecked=f(a)?G(a,b):a==b,c.name="{{"+this.keypath.str+"}}",c.checked=this.isChecked,c.addEventListener("change",Nq,!1),c.attachEvent&&c.addEventListener("click",Nq,!1)},unrender:function(){var a=this.element.node;a.removeEventListener("change",Nq,!1),a.removeEventListener("click",Nq,!1)},changed:function(){var a=!!this.isChecked;return this.isChecked=this.element.node.checked,this.isChecked===a},handleChange:function(){this.isChecked=this.element.node.checked,Mq.prototype.handleChange.call(this)},getValue:function(){return this.siblings.filter(ef).map(ff)}}),Xq=Wq,Yq=Mq.extend({name:"checked",render:function(){var a=this.element.node;a.addEventListener("change",Nq,!1),a.attachEvent&&a.addEventListener("click",Nq,!1)},unrender:function(){var a=this.element.node;a.removeEventListener("change",Nq,!1),a.removeEventListener("click",Nq,!1)},getValue:function(){return this.element.node.checked}}),Zq=Yq,$q=Mq.extend({getInitialValue:function(){var a,b,c,d,e=this.element.options;if(void 0===this.element.getAttribute("value")&&(b=a=e.length,a)){for(;b--;)if(e[b].getAttribute("selected")){c=e[b].getAttribute("value"),d=!0;break}if(!d)for(;++b<a;)if(!e[b].getAttribute("disabled")){c=e[b].getAttribute("value");break}return void 0!==c&&(this.element.attributes.value.value=c),c}},render:function(){this.element.node.addEventListener("change",Nq,!1)},unrender:function(){this.element.node.removeEventListener("change",Nq,!1)},setValue:function(a){this.root.viewmodel.set(this.keypath,a)},getValue:function(){var a,b,c,d,e;for(a=this.element.node.options,c=a.length,b=0;c>b;b+=1)if(d=a[b],a[b].selected)return e=d._ractive?d._ractive.value:d.value},forceUpdate:function(){var a=this,b=this.getValue();void 0!==b&&(this.attribute.locked=!0,rj.scheduleTask(function(){return a.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,b))}}),_q=$q,ar=_q.extend({getInitialValue:function(){return this.element.options.filter(function(a){return a.getAttribute("selected")}).map(function(a){return a.getAttribute("value")})},render:function(){var a;this.element.node.addEventListener("change",Nq,!1),a=this.root.viewmodel.get(this.keypath),void 0===a&&this.handleChange()},unrender:function(){this.element.node.removeEventListener("change",Nq,!1)},setValue:function(){throw new Error("TODO not implemented yet")},getValue:function(){var a,b,c,d,e,f;for(a=[],b=this.element.node.options,d=b.length,c=0;d>c;c+=1)e=b[c],e.selected&&(f=e._ractive?e._ractive.value:e.value,a.push(f));return a},handleChange:function(){var a,b,c;return a=this.attribute,b=a.value,c=this.getValue(),void 0!==b&&H(c,b)||_q.prototype.handleChange.call(this),this},forceUpdate:function(){var a=this,b=this.getValue();void 0!==b&&(this.attribute.locked=!0,rj.scheduleTask(function(){return a.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,b))},updateModel:function(){void 0!==this.attribute.value&&this.attribute.value.length||this.root.viewmodel.set(this.keypath,this.initialValue)}}),br=ar,cr=Mq.extend({render:function(){this.element.node.addEventListener("change",Nq,!1)},unrender:function(){this.element.node.removeEventListener("change",Nq,!1)},getValue:function(){return this.element.node.files}}),dr=cr;Lq=Mq.extend({getInitialValue:function(){return""},getValue:function(){return this.element.node.value},render:function(){var a,b=this.element.node,c=!1;this.rendered=!0,a=this.root.lazy,this.element.lazy===!0?a=!0:this.element.lazy===!1?a=!1:i(this.element.lazy)?(a=!1,c=+this.element.lazy):i(a||"")&&(c=+a,a=!1,this.element.lazy=c),this.handler=c?hf:Nq,b.addEventListener("change",Nq,!1),a||(b.addEventListener("input",this.handler,!1),b.attachEvent&&b.addEventListener("keyup",this.handler,!1)),b.addEventListener("blur",gf,!1)},unrender:function(){var a=this.element.node;this.rendered=!1,a.removeEventListener("change",Nq,!1),a.removeEventListener("input",this.handler,!1),a.removeEventListener("keyup",this.handler,!1),a.removeEventListener("blur",gf,!1)}});var er=Lq,fr=er.extend({getInitialValue:function(){return void 0},getValue:function(){var a=parseFloat(this.element.node.value);return isNaN(a)?void 0:a}}),gr=jf,hr=lf,ir=mf,jr=nf,kr=of,lr=/^event(?:\.(.+))?/,mr=sf,nr=tf,or={},pr={touchstart:!0,touchmove:!0,touchend:!0,touchcancel:!0,touchleave:!0},qr=vf,rr=wf,sr=xf,tr=yf,ur=zf,vr=function(a,b,c){this.init(a,b,c)};vr.prototype={bubble:hr,fire:ir,getAction:jr,init:kr,listen:nr,rebind:qr,render:rr,resolve:sr,unbind:tr,unrender:ur};var wr=vr,xr=function(a,b){var c,d,e,f,g=[];for(d in b)if(b.hasOwnProperty(d))for(e=d.split("-"),c=e.length;c--;)f=new wr(a,e[c],b[d]),g.push(f);return g},yr=function(a,b){var c,d,e,f=this;this.element=a,this.root=c=a.root,d=b.n||b,("string"==typeof d||(e=new vu({template:d,root:c,owner:a}),d=e.toString(),e.unbind(),""!==d))&&(b.a?this.params=b.a:b.d&&(this.fragment=new vu({template:b.d,root:c,owner:a}),this.params=this.fragment.getArgsList(),this.fragment.bubble=function(){this.dirtyArgs=this.dirtyValue=!0,f.params=this.getArgsList(),f.ready&&f.update()}),this.fn=r("decorators",c,d),this.fn||l(Li(d,"decorator")))};yr.prototype={init:function(){var a,b,c;if(a=this.element.node,this.params?(c=[a].concat(this.params),b=this.fn.apply(this.root,c)):b=this.fn.call(this.root,a),!b||!b.teardown)throw new Error("Decorator definition must return an object with a teardown method");this.actual=b,this.ready=!0},update:function(){this.actual.update?this.actual.update.apply(this.root,this.params):(this.actual.teardown(!0),this.init())},rebind:function(a,b){this.fragment&&this.fragment.rebind(a,b)},teardown:function(a){this.torndown=!0,this.ready&&this.actual.teardown(),!a&&this.fragment&&this.fragment.unbind()}};var zr,Ar,Br,Cr=yr,Dr=Gf,Er=Hf,Fr=Nf,Gr=function(a){return a.replace(/-([a-zA-Z])/g,function(a,b){return b.toUpperCase()})};$h?(Ar={},Br=ki("div").style,zr=function(a){var b,c,d;if(a=Gr(a),!Ar[a])if(void 0!==Br[a])Ar[a]=a;else for(d=a.charAt(0).toUpperCase()+a.substring(1),b=ei.length;b--;)if(c=ei[b],void 0!==Br[c+d]){Ar[a]=c+d;break}return Ar[a]}):zr=null;var Hr,Ir,Jr=zr;$h?(Ir=window.getComputedStyle||Ai.getComputedStyle,Hr=function(a){var b,c,d,e,g;if(b=Ir(this.node),"string"==typeof a)return g=b[Jr(a)],"0px"===g&&(g=0),g;if(!f(a))throw new Error("Transition$getStyle must be passed a string, or an array of strings representing CSS properties");for(c={},d=a.length;d--;)e=a[d],g=b[Jr(e)],"0px"===g&&(g=0),c[e]=g;return c}):Hr=null;var Kr=Hr,Lr=function(a,b){var c;if("string"==typeof a)this.node.style[Jr(a)]=b;else for(c in a)a.hasOwnProperty(c)&&(this.node.style[Jr(c)]=a[c]);return this},Mr=function(a){var b;this.duration=a.duration,this.step=a.step,this.complete=a.complete,"string"==typeof a.easing?(b=a.root.easing[a.easing],b||(q(Li(a.easing,"easing")),b=Of)):b="function"==typeof a.easing?a.easing:Of,this.easing=b,this.start=bj(),this.end=this.start+this.duration,this.running=!0,uj.add(this)};Mr.prototype={tick:function(a){var b,c;return this.running?a>this.end?(this.step&&this.step(1),this.complete&&this.complete(1),!1):(b=a-this.start,c=this.easing(b/this.duration),this.step&&this.step(c),!0):!1},stop:function(){this.abort&&this.abort(),this.running=!1}};var Nr,Or,Pr,Qr,Rr,Sr,Tr,Ur,Vr=Mr,Wr=new RegExp("^-(?:"+ei.join("|")+")-"),Xr=function(a){return a.replace(Wr,"")},Yr=new RegExp("^(?:"+ei.join("|")+")([A-Z])"),Zr=function(a){var b;return a?(Yr.test(a)&&(a="-"+a),b=a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()})):""},$r={},_r={};$h?(Or=ki("div").style,function(){void 0!==Or.transition?(Pr="transition",Qr="transitionend",Rr=!0):void 0!==Or.webkitTransition?(Pr="webkitTransition",Qr="webkitTransitionEnd",Rr=!0):Rr=!1}(),Pr&&(Sr=Pr+"Duration",Tr=Pr+"Property",Ur=Pr+"TimingFunction"),Nr=function(a,b,c,d,e){setTimeout(function(){var f,g,h,i,j;i=function(){g&&h&&(a.root.fire(a.name+":end",a.node,a.isIntro),e())},f=(a.node.namespaceURI||"")+a.node.tagName,a.node.style[Tr]=d.map(Jr).map(Zr).join(","),a.node.style[Ur]=Zr(c.easing||"linear"),a.node.style[Sr]=c.duration/1e3+"s",j=function(b){var c;c=d.indexOf(Gr(Xr(b.propertyName))),-1!==c&&d.splice(c,1),d.length||(a.node.removeEventListener(Qr,j,!1),h=!0,i())},a.node.addEventListener(Qr,j,!1),setTimeout(function(){for(var e,k,l,m,n,o=d.length,q=[];o--;)m=d[o],e=f+m,Rr&&!_r[e]&&(a.node.style[Jr(m)]=b[m],$r[e]||(k=a.getStyle(m),$r[e]=a.getStyle(m)!=b[m],_r[e]=!$r[e],_r[e]&&(a.node.style[Jr(m)]=k))),(!Rr||_r[e])&&(void 0===k&&(k=a.getStyle(m)),l=d.indexOf(m),-1===l?p("Something very strange happened with transitions. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!",{node:a.node}):d.splice(l,1),n=/[^\d]*$/.exec(b[m])[0],q.push({name:Jr(m),interpolator:Ni(parseFloat(k),parseFloat(b[m])),suffix:n}));q.length?new Vr({root:a.root,duration:c.duration,easing:Gr(c.easing||""),step:function(b){var c,d;for(d=q.length;d--;)c=q[d],a.node.style[c.name]=c.interpolator(b)+c.suffix},complete:function(){g=!0,i()}}):g=!0,d.length||(a.node.removeEventListener(Qr,j,!1),h=!0,i())},0)},c.delay||0)}):Nr=null;var as,bs,cs,ds,es,fs=Nr;if("undefined"!=typeof document){if(as="hidden",es={},as in document)cs="";else for(ds=ei.length;ds--;)bs=ei[ds],as=bs+"Hidden",as in document&&(cs=bs);void 0!==cs?(document.addEventListener(cs+"visibilitychange",Pf),Pf()):("onfocusout"in document?(document.addEventListener("focusout",Qf),document.addEventListener("focusin",Rf)):(window.addEventListener("pagehide",Qf),window.addEventListener("blur",Qf),window.addEventListener("pageshow",Rf),window.addEventListener("focus",Rf)),es.hidden=!1)}var gs,hs,is,js=es;$h?(hs=window.getComputedStyle||Ai.getComputedStyle,gs=function(a,b,c){var d,e=this;if(4===arguments.length)throw new Error("t.animateStyle() returns a promise - use .then() instead of passing a callback");if(js.hidden)return this.setStyle(a,b),is||(is=ij.resolve());"string"==typeof a?(d={},d[a]=b):(d=a,c=b),c||(q('The "%s" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340',this.name),c=this);var f=new ij(function(a){var b,f,g,h,i,j,k;if(!c.duration)return e.setStyle(d),void a();for(b=Object.keys(d),f=[],g=hs(e.node),i={},j=b.length;j--;)k=b[j],h=g[Jr(k)],"0px"===h&&(h=0),h!=d[k]&&(f.push(k),e.node.style[Jr(k)]=h);return f.length?void fs(e,d,c,f,a):void a()});return f}):gs=null;var ks=gs,ls=function(a,b){return"number"==typeof a?a={duration:a}:"string"==typeof a?a="slow"===a?{duration:600}:"fast"===a?{duration:200}:{duration:400}:a||(a={}),e({},a,b)},ms=Sf,ns=function(a,b,c){this.init(a,b,c)};ns.prototype={init:Fr,start:ms,getStyle:Kr,setStyle:Lr,animateStyle:ks,processParams:ls};var os,ps,qs=ns,rs=Uf;os=function(){var a=this.node,b=this.fragment.toString(!1);if(window&&window.appearsToBeIELessEqual8&&(a.type="text/css"),a.styleSheet)a.styleSheet.cssText=b;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(document.createTextNode(b))}},ps=function(){this.node.type&&"text/javascript"!==this.node.type||p("Script tag was updated. This does not cause the code to be re-evaluated!",{ractive:this.root}),this.node.text=this.fragment.toString(!1)};var ss=function(){var a,b;return this.template.y?"<!DOCTYPE"+this.template.dd+">":(a="<"+this.template.e,a+=this.attributes.map($f).join("")+this.conditionalAttributes.map($f).join(""),"option"===this.name&&Yf(this)&&(a+=" selected"),"input"===this.name&&Zf(this)&&(a+=" checked"),a+=">","textarea"===this.name&&void 0!==this.getAttribute("value")?a+=Ac(this.getAttribute("value")):void 0!==this.getAttribute("contenteditable")&&(a+=this.getAttribute("value")||""),this.fragment&&(b="script"!==this.name&&"style"!==this.name,a+=this.fragment.toString(b)),vm.test(this.template.e)||(a+="</"+this.template.e+">"),a)},ts=_f,us=ag,vs=function(a){this.init(a)};vs.prototype={bubble:Wp,detach:Xp,find:Yp,findAll:Zp,findAllComponents:$p,findComponent:_p,findNextNode:aq,firstNode:bq,getAttribute:cq,init:Dr,rebind:Er,render:rs,toString:ss,unbind:ts,unrender:us};var ws=vs,xs=/^\s*$/,ys=/^\s*/,zs=function(a){var b,c,d,e;return b=a.split("\n"),c=b[0],void 0!==c&&xs.test(c)&&b.shift(),d=J(b),void 0!==d&&xs.test(d)&&b.pop(),e=b.reduce(cg,null),e&&(a=b.map(function(a){return a.replace(e,"")}).join("\n")),a},As=dg,Bs=function(a,b){var c;return b?c=a.split("\n").map(function(a,c){return c?b+a:a}).join("\n"):a},Cs='Could not find template for partial "%s"',Ds=function(a){var b,c;b=this.parentFragment=a.parentFragment,this.root=b.root,this.type=cl,this.index=a.index,this.name=a.template.r,this.rendered=!1,this.fragment=this.fragmentToRender=this.fragmentToUnrender=null,hp.init(this,a),this.keypath||((c=As(this.root,this.name,b))?(Mo.call(this),this.isNamed=!0,this.setTemplate(c)):q(Cs,this.name))};Ds.prototype={bubble:function(){this.parentFragment.bubble()},detach:function(){return this.fragment.detach()},find:function(a){return this.fragment.find(a)},findAll:function(a,b){return this.fragment.findAll(a,b)},findComponent:function(a){return this.fragment.findComponent(a)},findAllComponents:function(a,b){return this.fragment.findAllComponents(a,b)},firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},getPartialName:function(){return this.isNamed&&this.name?this.name:void 0===this.value?this.name:this.value},getValue:function(){return this.fragment.getValue()},rebind:function(a,b){this.isNamed||gp.call(this,a,b),this.fragment&&this.fragment.rebind(a,b)},render:function(){return this.docFrag=document.createDocumentFragment(),this.update(),this.rendered=!0,this.docFrag},resolve:hp.resolve,setValue:function(a){var b;(void 0===a||a!==this.value)&&(void 0!==a&&(b=As(this.root,""+a,this.parentFragment)),!b&&this.name&&(b=As(this.root,this.name,this.parentFragment))&&(Mo.call(this),this.isNamed=!0),b||q(Cs,this.name,{ractive:this.root}),this.value=a,this.setTemplate(b||[]),this.bubble(),this.rendered&&rj.addView(this))},setTemplate:function(a){this.fragment&&(this.fragment.unbind(),this.rendered&&(this.fragmentToUnrender=this.fragment)),this.fragment=new vu({template:a,root:this.root,owner:this,pElement:this.parentFragment.pElement}),this.fragmentToRender=this.fragment},toString:function(a){var b,c,d,e;return b=this.fragment.toString(a),c=this.parentFragment.items[this.index-1],c&&c.type===Xk?(d=c.text.split("\n").pop(),(e=/^\s+$/.exec(d))?Bs(b,e[0]):b):b},unbind:function(){this.isNamed||Mo.call(this),this.fragment&&this.fragment.unbind()},unrender:function(a){this.rendered&&(this.fragment&&this.fragment.unrender(a),this.rendered=!1)},update:function(){var a,b;this.fragmentToUnrender&&(this.fragmentToUnrender.unrender(!0),this.fragmentToUnrender=null),this.fragmentToRender&&(this.docFrag.appendChild(this.fragmentToRender.render()),this.fragmentToRender=null),this.rendered&&(a=this.parentFragment.getNode(),b=this.parentFragment.findNextNode(this),a.insertBefore(this.docFrag,b))}};var Es,Fs,Gs,Hs=Ds,Is=ig,Js=jg,Ks=new ej("detach"),Ls=kg,Ms=lg,Ns=mg,Os=ng,Ps=og,Qs=pg,Rs=function(a,b,c,d){var e=a.root,f=a.keypath;d?e.viewmodel.smartUpdate(f,b,d):e.viewmodel.mark(f)},Ss=[],Ts=["pop","push","reverse","shift","sort","splice","unshift"];Ts.forEach(function(a){var b=function(){for(var b=arguments.length,c=Array(b),d=0;b>d;d++)c[d]=arguments[d];var e,f,g,h;for(e=rk(this,a,c),f=Array.prototype[a].apply(this,arguments),rj.start(),this._ractive.setting=!0,h=this._ractive.wrappers.length;h--;)g=this._ractive.wrappers[h],rj.addRactive(g.root),Rs(g,this,a,e);return rj.end(),this._ractive.setting=!1,f};yi(Ss,a,{value:b})}),Es={},Es.__proto__?(Fs=function(a){a.__proto__=Ss},Gs=function(a){a.__proto__=Array.prototype}):(Fs=function(a){var b,c;for(b=Ts.length;b--;)c=Ts[b],yi(a,c,{value:Ss[c],configurable:!0})},Gs=function(a){var b;for(b=Ts.length;b--;)delete a[Ts[b]]}),Fs.unpatch=Gs;var Us,Vs,Ws,Xs=Fs;Us={filter:function(a){return f(a)&&(!a._ractive||!a._ractive.setting)},wrap:function(a,b,c){return new Vs(a,b,c)}},Vs=function(a,b,c){this.root=a,this.value=b,this.keypath=y(c),b._ractive||(yi(b,"_ractive",{value:{wrappers:[],instances:[],setting:!1},configurable:!0}),Xs(b)),b._ractive.instances[a._guid]||(b._ractive.instances[a._guid]=0,b._ractive.instances.push(a)),b._ractive.instances[a._guid]+=1,b._ractive.wrappers.push(this)},Vs.prototype={get:function(){return this.value},teardown:function(){var a,b,c,d,e;if(a=this.value,b=a._ractive,c=b.wrappers,d=b.instances,b.setting)return!1;if(e=c.indexOf(this),-1===e)throw new Error(Ws);if(c.splice(e,1),c.length){if(d[this.root._guid]-=1,!d[this.root._guid]){if(e=d.indexOf(this.root),-1===e)throw new Error(Ws);d.splice(e,1)}}else delete a._ractive,Xs.unpatch(this.value)}},Ws="Something went wrong in a rather interesting way";var Ys,Zs,$s=Us,_s=/^\s*[0-9]+\s*$/,at=function(a){return _s.test(a)?[]:{}};try{Object.defineProperty({},"test",{value:0}),Ys={filter:function(a,b,c){var d,e;return b?(b=y(b),(d=c.viewmodel.wrapped[b.parent.str])&&!d.magic?!1:(e=c.viewmodel.get(b.parent),f(e)&&/^[0-9]+$/.test(b.lastKey)?!1:e&&("object"==typeof e||"function"==typeof e))):!1},wrap:function(a,b,c){return new Zs(a,b,c)}},Zs=function(a,b,c){var d,e,f;return c=y(c),this.magic=!0,this.ractive=a,this.keypath=c,this.value=b,this.prop=c.lastKey,d=c.parent,this.obj=d.isRoot?a.viewmodel.data:a.viewmodel.get(d),e=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop),e&&e.set&&(f=e.set._ractiveWrappers)?void(-1===f.indexOf(this)&&f.push(this)):void qg(this,b,e)},Zs.prototype={get:function(){return this.value},reset:function(a){return this.updating?void 0:(this.updating=!0,this.obj[this.prop]=a,rj.addRactive(this.ractive),this.ractive.viewmodel.mark(this.keypath,{keepExistingWrapper:!0}),this.updating=!1,!0)},set:function(a,b){this.updating||(this.obj[this.prop]||(this.updating=!0,this.obj[this.prop]=at(a),this.updating=!1),this.obj[this.prop][a]=b)},teardown:function(){var a,b,c,d,e;return this.updating?!1:(a=Object.getOwnPropertyDescriptor(this.obj,this.prop),b=a&&a.set,void(b&&(d=b._ractiveWrappers,e=d.indexOf(this),-1!==e&&d.splice(e,1),d.length||(c=this.obj[this.prop],Object.defineProperty(this.obj,this.prop,this.originalDescriptor||{writable:!0,enumerable:!0,configurable:!0}),this.obj[this.prop]=c))))}}}catch(Bi){Ys=!1}var bt,ct,dt=Ys;dt&&(bt={filter:function(a,b,c){return dt.filter(a,b,c)&&$s.filter(a)},wrap:function(a,b,c){return new ct(a,b,c)}},ct=function(a,b,c){this.value=b,this.magic=!0,this.magicWrapper=dt.wrap(a,b,c),this.arrayWrapper=$s.wrap(a,b,c)},ct.prototype={get:function(){return this.value},teardown:function(){this.arrayWrapper.teardown(),this.magicWrapper.teardown()},reset:function(a){return this.magicWrapper.reset(a)}});var et=bt,ft=rg,gt={},ht=ug,it=vg,jt=yg,kt=Dg,lt=Eg,mt=function(a,b){this.computation=a,this.viewmodel=a.viewmodel,this.ref=b,this.root=this.viewmodel.ractive,this.parentFragment=this.root.component&&this.root.component.parentFragment};mt.prototype={resolve:function(a){this.computation.softDeps.push(a),this.computation.unresolvedDeps[a.str]=null,this.viewmodel.register(a,this.computation,"computed")}};var nt=mt,ot=function(a,b){this.key=a,this.getter=b.getter,this.setter=b.setter,this.hardDeps=b.deps||[],this.softDeps=[],this.unresolvedDeps={},this.depValues={},this._dirty=this._firstRun=!0};ot.prototype={constructor:ot,init:function(a){var b,c=this;this.viewmodel=a,this.bypass=!0,b=a.get(this.key),a.clearCache(this.key.str),this.bypass=!1,this.setter&&void 0!==b&&this.set(b),this.hardDeps&&this.hardDeps.forEach(function(b){return a.register(b,c,"computed")})},invalidate:function(){this._dirty=!0},get:function(){var a,b,c=this,d=!1;if(this.getting){var e="The "+this.key.str+" computation indirectly called itself. This probably indicates a bug in the computation. It is commonly caused by `array.sort(...)` - if that's the case, clone the array first with `array.slice().sort(...)`";return o(e),this.value}if(this.getting=!0,this._dirty){if(this._firstRun||!this.hardDeps.length&&!this.softDeps.length?d=!0:[this.hardDeps,this.softDeps].forEach(function(a){var b,e,f;if(!d)for(f=a.length;f--;)if(b=a[f],e=c.viewmodel.get(b),!h(e,c.depValues[b.str]))return c.depValues[b.str]=e,void(d=!0)}),d){this.viewmodel.capture();try{this.value=this.getter()}catch(f){p('Failed to compute "%s"',this.key.str),m(f.stack||f),this.value=void 0}a=this.viewmodel.release(),b=this.updateDependencies(a),b&&[this.hardDeps,this.softDeps].forEach(function(a){a.forEach(function(a){c.depValues[a.str]=c.viewmodel.get(a)})})}this._dirty=!1}return this.getting=this._firstRun=!1,this.value},set:function(a){if(this.setting)return void(this.value=a);if(!this.setter)throw new Error("Computed properties without setters are read-only. (This may change in a future version of Ractive!)");this.setter(a)},updateDependencies:function(a){var b,c,d,e,f;for(c=this.softDeps,b=c.length;b--;)d=c[b],-1===a.indexOf(d)&&(e=!0,this.viewmodel.unregister(d,this,"computed"));for(b=a.length;b--;)d=a[b],-1!==c.indexOf(d)||this.hardDeps&&-1!==this.hardDeps.indexOf(d)||(e=!0,Fg(this.viewmodel,d)&&!this.unresolvedDeps[d.str]?(f=new nt(this,d.str),a.splice(b,1),this.unresolvedDeps[d.str]=f,rj.addUnresolved(f)):this.viewmodel.register(d,this,"computed"));return e&&(this.softDeps=a.slice()),e}};var pt=ot,qt=Gg,rt={FAILED_LOOKUP:!0},st=Hg,tt={},ut=Jg,vt=Kg,wt=function(a,b){this.localKey=a,this.keypath=b.keypath,this.origin=b.origin,this.deps=[],this.unresolved=[],this.resolved=!1
};wt.prototype={forceResolution:function(){this.keypath=this.localKey,this.setup()},get:function(a,b){return this.resolved?this.origin.get(this.map(a),b):void 0},getValue:function(){return this.keypath?this.origin.get(this.keypath):void 0},initViewmodel:function(a){this.local=a,this.setup()},map:function(a){return void 0===typeof this.keypath?this.localKey:a.replace(this.localKey,this.keypath)},register:function(a,b,c){this.deps.push({keypath:a,dep:b,group:c}),this.resolved&&this.origin.register(this.map(a),b,c)},resolve:function(a){void 0!==this.keypath&&this.unbind(!0),this.keypath=a,this.setup()},set:function(a,b){this.resolved||this.forceResolution(),this.origin.set(this.map(a),b)},setup:function(){var a=this;void 0!==this.keypath&&(this.resolved=!0,this.deps.length&&(this.deps.forEach(function(b){var c=a.map(b.keypath);if(a.origin.register(c,b.dep,b.group),b.dep.setValue)b.dep.setValue(a.origin.get(c));else{if(!b.dep.invalidate)throw new Error("An unexpected error occurred. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");b.dep.invalidate()}}),this.origin.mark(this.keypath)))},setValue:function(a){if(!this.keypath)throw new Error("Mapping does not have keypath, cannot set value. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");this.origin.set(this.keypath,a)},unbind:function(a){var b=this;a||delete this.local.mappings[this.localKey],this.resolved&&(this.deps.forEach(function(a){b.origin.unregister(b.map(a.keypath),a.dep,a.group)}),this.tracker&&this.origin.unregister(this.keypath,this.tracker))},unregister:function(a,b,c){var d,e;if(this.resolved){for(d=this.deps,e=d.length;e--;)if(d[e].dep===b){d.splice(e,1);break}this.origin.unregister(this.map(a),b,c)}}};var xt=Lg,yt=function(a,b){var c,d,e,f;return c={},d=0,e=a.map(function(a,e){var g,h,i;h=d,i=b.length;do{if(g=b.indexOf(a,h),-1===g)return f=!0,-1;h=g+1}while(c[g]&&i>h);return g===d&&(d+=1),g!==e&&(f=!0),c[g]=!0,g})},zt=Mg,At={},Bt=Pg,Ct=Rg,Dt=Sg,Et=Tg,Ft=Vg,Gt={implicit:!0},Ht={noCascade:!0},It=Xg,Jt=Yg,Kt=function(a){var b,c,d=a.adapt,e=a.data,f=a.ractive,g=a.computed,h=a.mappings;this.ractive=f,this.adaptors=d,this.onchange=a.onchange,this.cache={},this.cacheMap=xi(null),this.deps={computed:xi(null),"default":xi(null)},this.depsMap={computed:xi(null),"default":xi(null)},this.patternObservers=[],this.specials=xi(null),this.wrapped=xi(null),this.computations=xi(null),this.captureGroups=[],this.unresolvedImplicitDependencies=[],this.changes=[],this.implicitChanges={},this.noCascade={},this.data=e,this.mappings=xi(null);for(b in h)this.map(y(b),h[b]);if(e)for(b in e)(c=this.mappings[b])&&void 0===c.getValue()&&c.setValue(e[b]);for(b in g)h&&b in h&&l("Cannot map to a computed property ('%s')",b),this.compute(y(b),g[b]);this.ready=!0};Kt.prototype={adapt:ft,applyChanges:jt,capture:kt,clearCache:lt,compute:qt,get:st,init:ut,map:vt,mark:xt,merge:zt,register:Bt,release:Ct,reset:Dt,set:Et,smartUpdate:Ft,teardown:It,unregister:Jt};var Lt=Kt;$g.prototype={constructor:$g,begin:function(a){this.inProcess[a._guid]=!0},end:function(a){var b=a.parent;b&&this.inProcess[b._guid]?_g(this.queue,b).push(a):ah(this,a),delete this.inProcess[a._guid]}};var Mt=$g,Nt=bh,Ot=/\$\{([^\}]+)\}/g,Pt=new ej("construct"),Qt=new ej("config"),Rt=new Mt("init"),St=0,Tt=["adaptors","components","decorators","easing","events","interpolators","partials","transitions"],Ut=fh,Vt=kh;kh.prototype={bubble:function(){this.dirty||(this.dirty=!0,rj.addView(this))},update:function(){this.callback(this.fragment.getValue()),this.dirty=!1},rebind:function(a,b){this.fragment.rebind(a,b)},unbind:function(){this.fragment.unbind()}};var Wt=function(a,b,c,e,g){var h,i,j,k,l,m,n={},o={},q={},r=[];for(i=a.parentFragment,j=a.root,g=g||{},d(n,g),g.content=e||[],n[""]=g.content,b.defaults.el&&p("The <%s/> component has a default `el` property; it has been disregarded",a.name),k=i;k;){if(k.owner.type===il){l=k.owner.container;break}k=k.parent}return c&&Object.keys(c).forEach(function(b){var d,e,g=c[b];if("string"==typeof g)d=Bn(g),o[b]=d?d.value:g;else if(0===g)o[b]=!0;else{if(!f(g))throw new Error("erm wut");mh(g)?(q[b]={origin:a.root.viewmodel,keypath:void 0},e=lh(a,g[0],function(a){a.isSpecial?m?h.set(b,a.value):(o[b]=a.value,delete q[b]):m?h.viewmodel.mappings[b].resolve(a):q[b].keypath=a})):e=new Vt(a,g,function(a){m?h.set(b,a):o[b]=a}),r.push(e)}}),h=xi(b.prototype),Ut(h,{el:null,append:!0,data:o,partials:g,magic:j.magic||b.defaults.magic,modifyArrays:j.modifyArrays,adapt:j.adapt},{parent:j,component:a,container:l,mappings:q,inlinePartials:n,cssIds:i.cssIds}),m=!0,a.resolvers=r,h},Xt=nh,Yt=function(a){var b,c;for(b=a.root;b;)(c=b._liveComponentQueries["_"+a.name])&&c.push(a.instance),b=b.parent},Zt=ph,$t=qh,_t=rh,au=sh,bu=th,cu=new ej("teardown"),du=vh,eu=function(a,b){this.init(a,b)};eu.prototype={detach:Js,find:Ls,findAll:Ms,findAllComponents:Ns,findComponent:Os,findNextNode:Ps,firstNode:Qs,init:Zt,rebind:$t,render:_t,toString:au,unbind:bu,unrender:du};var fu=eu,gu=function(a){this.type=dl,this.value=a.template.c};gu.prototype={detach:Jo,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createComment(this.value)),this.node},toString:function(){return"<!--"+this.value+"-->"},unrender:function(a){a&&this.node.parentNode.removeChild(this.node)}};var hu=gu,iu=function(a){var b,c;this.type=il,this.container=b=a.parentFragment.root,this.component=c=b.component,this.container=b,this.containerFragment=a.parentFragment,this.parentFragment=c.parentFragment;var d=this.name=a.template.n||"",e=b._inlinePartials[d];e||(p('Could not find template for partial "'+d+'"',{ractive:a.root}),e=[]),this.fragment=new vu({owner:this,root:b.parent,template:e,pElement:this.containerFragment.pElement}),f(c.yielders[d])?c.yielders[d].push(this):c.yielders[d]=[this],rj.scheduleTask(function(){if(c.yielders[d].length>1)throw new Error("A component template can only have one {{yield"+(d?" "+d:"")+"}} declaration at a time")})};iu.prototype={detach:function(){return this.fragment.detach()},find:function(a){return this.fragment.find(a)},findAll:function(a,b){return this.fragment.findAll(a,b)},findComponent:function(a){return this.fragment.findComponent(a)},findAllComponents:function(a,b){return this.fragment.findAllComponents(a,b)},findNextNode:function(){return this.containerFragment.findNextNode(this)},firstNode:function(){return this.fragment.firstNode()},getValue:function(a){return this.fragment.getValue(a)},render:function(){return this.fragment.render()},unbind:function(){this.fragment.unbind()},unrender:function(a){this.fragment.unrender(a),K(this.component.yielders[this.name],this)},rebind:function(a,b){this.fragment.rebind(a,b)},toString:function(){return this.fragment.toString()}};var ju=iu,ku=function(a){this.declaration=a.template.a};ku.prototype={init:wi,render:wi,unrender:wi,teardown:wi,toString:function(){return"<!DOCTYPE"+this.declaration+">"}};var lu=ku,mu=wh,nu=yh,ou=zh,pu=Ah,qu=Dh,ru=Fh,su=function(a){this.init(a)};su.prototype={bubble:xo,detach:yo,find:zo,findAll:Ao,findAllComponents:Bo,findComponent:Co,findNextNode:Do,firstNode:Eo,getArgsList:Go,getNode:Ho,getValue:Io,init:mu,rebind:nu,registerIndexRef:function(a){var b=this.registeredIndexRefs;-1===b.indexOf(a)&&b.push(a)},render:ou,toString:pu,unbind:qu,unregisterIndexRef:function(a){var b=this.registeredIndexRefs;b.splice(b.indexOf(a),1)},unrender:ru};var tu,uu,vu=su,wu=Gh,xu=["template","partials","components","decorators","events"],yu=new ej("reset"),zu=function(a,b){function c(b,d,e){e&&e.partials[a]||b.forEach(function(b){b.type===cl&&b.getPartialName()===a&&d.push(b),b.fragment&&c(b.fragment.items,d,e),f(b.fragments)?c(b.fragments,d,e):f(b.items)?c(b.items,d,e):b.type===hl&&b.instance&&c(b.instance.fragment.items,d,b.instance),b.type===bl&&(f(b.attributes)&&c(b.attributes,d,e),f(b.conditionalAttributes)&&c(b.conditionalAttributes,d,e))})}var d,e=[];return c(this.fragment.items,e),this.partials[a]=b,d=rj.start(this,!0),e.forEach(function(b){b.value=void 0,b.setValue(a)}),rj.end(),d},Au=Hh,Bu=tk("reverse"),Cu=Ih,Du=tk("shift"),Eu=tk("sort"),Fu=tk("splice"),Gu=Kh,Hu=Lh,Iu=new ej("teardown"),Ju=Nh,Ku=Oh,Lu=Ph,Mu=new ej("unrender"),Nu=tk("unshift"),Ou=Qh,Pu=new ej("update"),Qu=Rh,Ru={add:$i,animate:xj,detach:zj,find:Bj,findAll:Kj,findAllComponents:Lj,findComponent:Mj,findContainer:Nj,findParent:Oj,fire:Sj,get:Tj,insert:Vj,merge:Xj,observe:kk,observeOnce:lk,off:ok,on:pk,once:qk,pop:uk,push:vk,render:Ck,reset:wu,resetPartial:zu,resetTemplate:Au,reverse:Bu,set:Cu,shift:Du,sort:Eu,splice:Fu,subtract:Gu,teardown:Hu,toggle:Ju,toHTML:Ku,toHtml:Ku,unrender:Lu,unshift:Nu,update:Ou,updateModel:Qu},Su=function(a,b,c){return c||Th(a,b)?function(){var c,d="_super"in this,e=this._super;return this._super=b,c=a.apply(this,arguments),d&&(this._super=e),c}:a},Tu=Uh,Uu=Yh,Vu=function(a){var b,c,d={};return a&&(b=a._ractive)?(d.ractive=b.root,d.keypath=b.keypath.str,d.index={},(c=Vo(b.proxy.parentFragment))&&(d.index=Vo.resolve(c)),d):d};tu=function(a){return this instanceof tu?void Ut(this,a):new tu(a)},uu={DEBUG:{writable:!0,value:!0},DEBUG_PROMISES:{writable:!0,value:!0},extend:{value:Uu},getNodeInfo:{value:Vu},parse:{value:Zn},Promise:{value:ij},svg:{value:di},magic:{value:bi},VERSION:{value:"0.7.2"},adaptors:{writable:!0,value:{}},components:{writable:!0,value:{}},decorators:{writable:!0,value:{}},easing:{writable:!0,value:ii},events:{writable:!0,value:{}},interpolators:{writable:!0,value:Pi},partials:{writable:!0,value:{}},transitions:{writable:!0,value:{}}},zi(tu,uu),tu.prototype=d(Ru,hi),tu.prototype.constructor=tu,tu.defaults=tu.prototype;var Wu="function";if(typeof Date.now!==Wu||typeof String.prototype.trim!==Wu||typeof Object.keys!==Wu||typeof Array.prototype.indexOf!==Wu||typeof Array.prototype.forEach!==Wu||typeof Array.prototype.map!==Wu||typeof Array.prototype.filter!==Wu||"undefined"!=typeof window&&typeof window.addEventListener!==Wu)throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.");var Xu=tu;return Xu});